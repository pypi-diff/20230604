# Comparing `tmp/karrio.ups-2023.4.6-py3-none-any.whl.zip` & `tmp/karrio.ups-2023.5-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,30 @@
-Zip file size: 29264 bytes, number of entries: 24
+Zip file size: 35531 bytes, number of entries: 28
 -rw-rw-r--  2.0 unx      574 b- defN 23-Apr-23 04:04 karrio/mappers/ups/__init__.py
--rw-rw-r--  2.0 unx     3992 b- defN 23-Apr-23 04:04 karrio/mappers/ups/mapper.py
--rw-rw-r--  2.0 unx     4701 b- defN 23-Apr-23 04:04 karrio/mappers/ups/proxy.py
--rw-rw-r--  2.0 unx      512 b- defN 23-Apr-23 04:04 karrio/mappers/ups/settings.py
--rw-rw-r--  2.0 unx      819 b- defN 22-Nov-15 19:21 karrio/providers/ups/__init__.py
--rw-rw-r--  2.0 unx     1843 b- defN 23-Apr-23 04:04 karrio/providers/ups/address.py
--rw-rw-r--  2.0 unx     3380 b- defN 23-Apr-23 04:04 karrio/providers/ups/document.py
--rw-rw-r--  2.0 unx     2554 b- defN 23-Mar-27 07:55 karrio/providers/ups/error.py
--rw-rw-r--  2.0 unx    15747 b- defN 23-May-21 02:20 karrio/providers/ups/rate.py
--rw-rw-r--  2.0 unx     4309 b- defN 23-Apr-23 04:04 karrio/providers/ups/tracking.py
--rw-rw-r--  2.0 unx    16310 b- defN 23-Apr-23 04:04 karrio/providers/ups/units.py
--rw-rw-r--  2.0 unx     2709 b- defN 23-Apr-23 04:04 karrio/providers/ups/utils.py
--rw-rw-r--  2.0 unx      309 b- defN 22-Nov-15 19:21 karrio/providers/ups/pickup/__init__.py
--rw-rw-r--  2.0 unx     1716 b- defN 23-Apr-23 04:04 karrio/providers/ups/pickup/cancel.py
--rw-rw-r--  2.0 unx     5653 b- defN 23-May-21 02:20 karrio/providers/ups/pickup/create.py
--rw-rw-r--  2.0 unx     2285 b- defN 23-Apr-23 04:04 karrio/providers/ups/pickup/rate.py
--rw-rw-r--  2.0 unx     1918 b- defN 23-Apr-23 04:04 karrio/providers/ups/pickup/update.py
--rw-rw-r--  2.0 unx      222 b- defN 22-Nov-15 19:21 karrio/providers/ups/shipment/__init__.py
--rw-rw-r--  2.0 unx     2659 b- defN 23-Apr-23 04:04 karrio/providers/ups/shipment/cancel.py
--rw-rw-r--  2.0 unx    30434 b- defN 23-Apr-23 04:04 karrio/providers/ups/shipment/create.py
--rw-rw-r--  2.0 unx      951 b- defN 23-May-25 14:30 karrio.ups-2023.4.6.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-May-25 14:30 karrio.ups-2023.4.6.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-May-25 14:30 karrio.ups-2023.4.6.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2119 b- defN 23-May-25 14:30 karrio.ups-2023.4.6.dist-info/RECORD
-24 files, 105815 bytes uncompressed, 25792 bytes compressed:  75.6%
+-rw-rw-r--  2.0 unx     2318 b- defN 23-Jun-03 08:14 karrio/mappers/ups/mapper.py
+-rw-rw-r--  2.0 unx     3091 b- defN 23-Jun-04 12:21 karrio/mappers/ups/proxy.py
+-rw-rw-r--  2.0 unx      562 b- defN 23-Jun-03 09:14 karrio/mappers/ups/settings.py
+-rw-rw-r--  2.0 unx      490 b- defN 23-Jun-04 11:17 karrio/providers/ups/__init__.py
+-rw-rw-r--  2.0 unx     2785 b- defN 23-Jun-03 09:41 karrio/providers/ups/document.py
+-rw-rw-r--  2.0 unx     2120 b- defN 23-Jun-03 08:56 karrio/providers/ups/error.py
+-rw-rw-r--  2.0 unx    15850 b- defN 23-Jun-04 09:22 karrio/providers/ups/rate.py
+-rw-rw-r--  2.0 unx     4299 b- defN 23-Jun-03 10:07 karrio/providers/ups/tracking.py
+-rw-rw-r--  2.0 unx    16410 b- defN 23-Jun-04 01:59 karrio/providers/ups/units.py
+-rw-rw-r--  2.0 unx     3311 b- defN 23-Jun-04 12:33 karrio/providers/ups/utils.py
+-rw-rw-r--  2.0 unx      222 b- defN 23-Jun-04 11:17 karrio/providers/ups/shipment/__init__.py
+-rw-rw-r--  2.0 unx     1347 b- defN 23-Jun-04 11:18 karrio/providers/ups/shipment/cancel.py
+-rw-rw-r--  2.0 unx    30149 b- defN 23-Jun-04 13:15 karrio/providers/ups/shipment/create.py
+-rw-rw-r--  2.0 unx        0 b- defN 23-Jun-04 11:09 ups_lib/__init__.py
+-rw-rw-r--  2.0 unx      935 b- defN 23-Jun-04 11:09 ups_lib/document_upload_request.py
+-rw-rw-r--  2.0 unx     1029 b- defN 23-Jun-04 11:09 ups_lib/document_upload_response.py
+-rw-rw-r--  2.0 unx      408 b- defN 23-Jun-04 11:09 ups_lib/error.py
+-rw-rw-r--  2.0 unx    13775 b- defN 23-Jun-04 11:10 ups_lib/rating_request.py
+-rw-rw-r--  2.0 unx     8066 b- defN 23-Jun-04 11:10 ups_lib/rating_response.py
+-rw-rw-r--  2.0 unx     1281 b- defN 23-Jun-04 11:11 ups_lib/shipping_cancel_response.py
+-rw-rw-r--  2.0 unx    27927 b- defN 23-Jun-04 11:10 ups_lib/shipping_request.py
+-rw-rw-r--  2.0 unx     7162 b- defN 23-Jun-04 11:10 ups_lib/shipping_response.py
+-rw-rw-r--  2.0 unx     4549 b- defN 23-Jun-04 11:10 ups_lib/tracking_response.py
+-rw-rw-r--  2.0 unx      922 b- defN 23-Jun-04 15:16 karrio.ups-2023.5.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jun-04 15:16 karrio.ups-2023.5.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       23 b- defN 23-Jun-04 15:16 karrio.ups-2023.5.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2395 b- defN 23-Jun-04 15:16 karrio.ups-2023.5.dist-info/RECORD
+28 files, 152092 bytes uncompressed, 31657 bytes compressed:  79.2%
```

## zipnote {}

```diff
@@ -9,17 +9,14 @@
 
 Filename: karrio/mappers/ups/settings.py
 Comment: 
 
 Filename: karrio/providers/ups/__init__.py
 Comment: 
 
-Filename: karrio/providers/ups/address.py
-Comment: 
-
 Filename: karrio/providers/ups/document.py
 Comment: 
 
 Filename: karrio/providers/ups/error.py
 Comment: 
 
 Filename: karrio/providers/ups/rate.py
@@ -30,44 +27,59 @@
 
 Filename: karrio/providers/ups/units.py
 Comment: 
 
 Filename: karrio/providers/ups/utils.py
 Comment: 
 
-Filename: karrio/providers/ups/pickup/__init__.py
+Filename: karrio/providers/ups/shipment/__init__.py
 Comment: 
 
-Filename: karrio/providers/ups/pickup/cancel.py
+Filename: karrio/providers/ups/shipment/cancel.py
 Comment: 
 
-Filename: karrio/providers/ups/pickup/create.py
+Filename: karrio/providers/ups/shipment/create.py
 Comment: 
 
-Filename: karrio/providers/ups/pickup/rate.py
+Filename: ups_lib/__init__.py
 Comment: 
 
-Filename: karrio/providers/ups/pickup/update.py
+Filename: ups_lib/document_upload_request.py
 Comment: 
 
-Filename: karrio/providers/ups/shipment/__init__.py
+Filename: ups_lib/document_upload_response.py
 Comment: 
 
-Filename: karrio/providers/ups/shipment/cancel.py
+Filename: ups_lib/error.py
 Comment: 
 
-Filename: karrio/providers/ups/shipment/create.py
+Filename: ups_lib/rating_request.py
+Comment: 
+
+Filename: ups_lib/rating_response.py
+Comment: 
+
+Filename: ups_lib/shipping_cancel_response.py
+Comment: 
+
+Filename: ups_lib/shipping_request.py
+Comment: 
+
+Filename: ups_lib/shipping_response.py
+Comment: 
+
+Filename: ups_lib/tracking_response.py
 Comment: 
 
-Filename: karrio.ups-2023.4.6.dist-info/METADATA
+Filename: karrio.ups-2023.5.dist-info/METADATA
 Comment: 
 
-Filename: karrio.ups-2023.4.6.dist-info/WHEEL
+Filename: karrio.ups-2023.5.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.ups-2023.4.6.dist-info/top_level.txt
+Filename: karrio.ups-2023.5.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.ups-2023.4.6.dist-info/RECORD
+Filename: karrio.ups-2023.5.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/mappers/ups/mapper.py

```diff
@@ -5,80 +5,42 @@
 import karrio.providers.ups as provider
 from karrio.mappers.ups.settings import Settings
 
 
 class Mapper(mapper.Mapper):
     settings: Settings
 
-    def create_address_validation_request(
-        self, payload: models.AddressValidationRequest
-    ) -> lib.Serializable:
-        return provider.address_validation_request(payload, self.settings)
-
     def create_rate_request(self, payload: models.RateRequest) -> lib.Serializable:
         return provider.rate_request(payload, self.settings)
 
     def create_tracking_request(
         self, payload: models.TrackingRequest
     ) -> lib.Serializable:
         return provider.tracking_request(payload, self.settings)
 
     def create_shipment_request(
         self, payload: models.ShipmentRequest
     ) -> lib.Serializable:
         return provider.shipment_request(payload, self.settings)
 
-    def create_pickup_request(self, payload: models.PickupRequest) -> lib.Serializable:
-        return provider.pickup_request(payload, self.settings)
-
-    def create_pickup_update_request(
-        self, payload: models.PickupUpdateRequest
-    ) -> lib.Serializable:
-        return provider.pickup_update_request(payload, self.settings)
-
-    def create_cancel_pickup_request(
-        self, payload: models.PickupCancelRequest
-    ) -> lib.Serializable:
-        return provider.pickup_cancel_request(payload, self.settings)
-
     def create_cancel_shipment_request(
         self, payload: models.ShipmentCancelRequest
     ) -> lib.Serializable:
         return provider.shipment_cancel_request(payload, self.settings)
 
     def create_document_upload_request(
         self, payload: models.DocumentUploadRequest
     ) -> lib.Serializable:
         return provider.document_upload_request(payload, self.settings)
 
-    def parse_address_validation_response(
-        self, response: lib.Deserializable
-    ) -> typing.Tuple[models.AddressValidationDetails, typing.List[models.Message]]:
-        return provider.parse_address_validation_response(response, self.settings)
-
-    def parse_cancel_pickup_response(
-        self, response: lib.Deserializable
-    ) -> typing.Tuple[models.ConfirmationDetails, typing.List[models.Message]]:
-        return provider.parse_pickup_cancel_response(response, self.settings)
-
     def parse_cancel_shipment_response(
         self, response: lib.Deserializable
     ) -> typing.Tuple[models.ConfirmationDetails, typing.List[models.Message]]:
         return provider.parse_shipment_cancel_response(response, self.settings)
 
-    def parse_pickup_response(
-        self, response: lib.Deserializable
-    ) -> typing.Tuple[models.PickupDetails, typing.List[models.Message]]:
-        return provider.parse_pickup_response(response, self.settings)
-
-    def parse_pickup_update_response(
-        self, response: lib.Deserializable
-    ) -> typing.Tuple[models.PickupDetails, typing.List[models.Message]]:
-        return provider.parse_pickup_update_response(response, self.settings)
-
     def parse_rate_response(
         self, response: lib.Deserializable
     ) -> typing.Tuple[typing.List[models.RateDetails], typing.List[models.Message]]:
         return provider.parse_rate_response(response, self.settings)
 
     def parse_shipment_response(
         self, response: lib.Deserializable
```

## karrio/mappers/ups/proxy.py

```diff
@@ -3,122 +3,96 @@
 import karrio.api.proxy as proxy
 from karrio.mappers.ups.settings import Settings
 
 
 class Proxy(proxy.Proxy):
     settings: Settings
 
-    def _send_request(self, path: str, request: lib.Serializable) -> str:
+    def _send_request(
+        self,
+        path: str,
+        request: lib.Serializable = None,
+        method: str = "POST",
+        headers: dict = None,
+    ) -> str:
         return lib.request(
             url=f"{self.settings.server_url}{path}",
-            data=request.serialize(),
-            trace=self.trace_as("xml"),
-            method="POST",
-            headers={"Content-Type": "application/xml"},
+            trace=self.trace_as("json"),
+            method=method,
+            headers={
+                "transId": "x-trans-id",
+                "transactionSrc": "x-trans-src",
+                "content-Type": "application/json",
+                "authorization": f"Bearer {self.settings.access_token}",
+                **(headers or {}),
+            },
+            **({"data": lib.to_json(request.serialize())} if request else {}),
         )
 
-    def validate_address(self, request: lib.Serializable) -> lib.Deserializable:
-        response = self._send_request("/webservices/AV", request)
-
-        return lib.Deserializable(response, lib.to_element)
-
-    def get_rates(self, request: lib.Serializable) -> lib.Deserializable:
-        response = self._send_request("/webservices/Rate", request)
-
-        return lib.Deserializable(response, lib.to_element, request.ctx)
-
-    def create_shipment(self, request: lib.Serializable) -> lib.Deserializable:
-        response = self._send_request("/webservices/Ship", request)
-
-        return lib.Deserializable(response, lib.to_element, request.ctx)
-
-    def cancel_shipment(self, request: lib.Serializable) -> lib.Deserializable:
-        response = self._send_request("/webservices/Void", request)
-
-        return lib.Deserializable(response, lib.to_element)
-
-    def schedule_pickup(self, request: lib.Serializable) -> lib.Deserializable:
-        def process(job: lib.Job):
-            if job.data is None:
-                return job.fallback
-
-            return self._send_request("/webservices/Pickup", job.data)
-
-        pipeline: lib.Pipeline = request.serialize()
-        response = pipeline.apply(process)
-        return lib.Deserializable(response, lib.to_element)
-
-    def modify_pickup(self, request: lib.Serializable) -> lib.Deserializable:
-        def process(job: lib.Job):
-            if job.data is None:
-                return job.fallback
+    def get_rates(
+        self,
+        request: lib.Serializable,
+    ) -> lib.Deserializable:
+        response = self._send_request(
+            "/api/rating/v2205/Shop?additionalinfo=timeintransit",
+            request,
+        )
 
-            return self._send_request("/webservices/Pickup", job.data)
+        return lib.Deserializable(response, lib.to_dict, request.ctx)
 
-        pipeline: lib.Pipeline = request.serialize()
-        response = pipeline.apply(process)
+    def create_shipment(
+        self,
+        request: lib.Serializable,
+    ) -> lib.Deserializable:
+        response = self._send_request(
+            "/api/shipments/v2205/ship",
+            request,
+        )
 
-        return lib.Deserializable(response, lib.to_element)
+        return lib.Deserializable(response, lib.to_dict, request.ctx)
 
-    def cancel_pickup(self, request: lib.Serializable) -> lib.Deserializable:
-        response = self._send_request("/webservices/Pickup", request)
+    def cancel_shipment(
+        self,
+        request: lib.Serializable,
+    ) -> lib.Deserializable:
+        response = self._send_request(
+            f"/api/shipments/v2205/void/cancel/{request.serialize().get('shipmentidentificationnumber')}",
+            method="DELETE",
+        )
 
-        return lib.Deserializable(response, lib.to_element)
+        return lib.Deserializable(response, lib.to_dict)
 
     def get_tracking(
         self, request: lib.Serializable
     ) -> lib.Deserializable[typing.List[typing.Tuple[str, dict]]]:
-        """
-        get_tracking makes background requests for each tracking number
-        """
+        """get_tracking makes background requests for each tracking number"""
+        locale = self.settings.connection_config.locale.state or "en_US"
 
         def _get_tracking(tracking_number: str):
-            return tracking_number, lib.request(
-                url=f"{self.settings.server_url}/track/v1/details/{tracking_number}",
-                trace=self.trace_as("json"),
-                headers={
-                    "Accept": "application/json",
-                    "Content-Type": "application/json",
-                    "AccessLicenseNumber": self.settings.access_license_number,
-                    "Username": self.settings.username,
-                    "Password": self.settings.password,
-                },
+            return tracking_number, self._send_request(
+                f"/api/track/v1/details/{tracking_number}?locale={locale}&returnSignature=true",
                 method="GET",
             )
 
         responses: typing.List[typing.Tuple[str, str]] = lib.run_concurently(
             _get_tracking, request.serialize()
         )
         return lib.Deserializable(
             responses,
             lambda res: [
                 (num, lib.to_dict(track)) for num, track in res if any(track.strip())
             ],
         )
 
-    def upload_document(self, request: lib.Serializable) -> lib.Deserializable:
-        url = (
-            "https://wwwcie.ups.com/rest/PaperlessDocumentAPI"
-            if self.settings.test_mode
-            else "https://filexfer.ups.com/rest/PaperlessDocumentAPI"
-        )
-
-        def _upload(data: dict):
-            name = data["UploadRequest"]["UserCreatedForm"]["UserCreatedFormFileName"]
-            return name, lib.request(
-                url=url,
-                data=lib.to_json(data),
-                trace=self.trace_as("json"),
-                headers={
-                    "Accept": "application/json",
-                    "Content-Type": "application/json",
-                    "AccessLicenseNumber": self.settings.access_license_number,
-                    "Username": self.settings.username,
-                    "Password": self.settings.password,
-                },
-                method="POST",
-            )
-
-        responses = lib.run_concurently(_upload, request.serialize())
-        return lib.Deserializable(
-            responses, lambda values: [(n, lib.to_dict(r)) for n, r in values]
+    def upload_document(
+        self,
+        request: lib.Serializable,
+    ) -> lib.Deserializable:
+        payload = request.serialize()
+        shipper_number = payload["UploadRequest"]["ShipperNumber"]
+
+        response = self._send_request(
+            f"/api/paperlessdocuments/v1/upload",
+            headers=dict(ShipperNumber=shipper_number),
         )
+
+        return lib.Deserializable(response, lib.to_dict)
```

## karrio/mappers/ups/settings.py

```diff
@@ -1,21 +1,23 @@
 """Karrio UPS connection settings."""
 
 import attr
+import jstruct
+import karrio.lib as lib
 from karrio.providers.ups.utils import Settings as BaseSettings
 
 
 @attr.s(auto_attribs=True)
 class Settings(BaseSettings):
     """UPS connection settings."""
 
-    username: str  # type:ignore
-    password: str  # type:ignore
-    access_license_number: str  # type:ignore
+    client_id: str  # type:ignore
+    client_secret: str  # type:ignore
     account_number: str = None
     account_country_code: str = None
     metadata: dict = {}
     config: dict = {}
 
     id: str = None
     test_mode: bool = False
     carrier_id: str = "ups"
+    cache: lib.Cache = jstruct.JStruct[lib.Cache]
```

## karrio/providers/ups/__init__.py

```diff
@@ -1,28 +1,16 @@
 from karrio.providers.ups.utils import Settings
-from karrio.providers.ups.address import (
-    parse_address_validation_response,
-    address_validation_request,
-)
 from karrio.providers.ups.tracking import (
     parse_tracking_response,
     tracking_request,
 )
 from karrio.providers.ups.rate import parse_rate_response, rate_request
 from karrio.providers.ups.shipment import (
     parse_shipment_cancel_response,
     parse_shipment_response,
     shipment_cancel_request,
     shipment_request,
 )
-from karrio.providers.ups.pickup import (
-    parse_pickup_cancel_response,
-    parse_pickup_update_response,
-    parse_pickup_response,
-    pickup_update_request,
-    pickup_cancel_request,
-    pickup_request,
-)
 from karrio.providers.ups.document import (
     parse_document_upload_response,
     document_upload_request,
 )
```

## karrio/providers/ups/document.py

```diff
@@ -7,89 +7,72 @@
 import karrio.core.models as models
 import karrio.providers.ups.error as error
 import karrio.providers.ups.units as provider_units
 import karrio.providers.ups.utils as provider_utils
 
 
 def parse_document_upload_response(
-    _responses: lib.Deserializable[typing.List[typing.Tuple[str, dict]]],
+    _response: lib.Deserializable[dict],
     settings: provider_utils.Settings,
 ) -> typing.Tuple[models.DocumentUploadDetails, typing.List[models.Message]]:
-    responses = _responses.deserialize()
-    raw_documents = [
-        (name, result["UploadResponse"]["FormsHistoryDocumentID"])
-        for name, result in responses
-        if (
-            "Fault" not in result
-            and "UploadResponse" in result
-            and result["UploadResponse"].get("FormsHistoryDocumentID") is not None
-        )
-    ]
-    messages: typing.List[models.Message] = error.parse_rest_error_response(
-        [response for _, response in responses],
+    response = _response.deserialize()
+    raw_documents = response.get("UploadResponse", {}).get("FormsHistoryDocumentID")
+    details = _extract_details(raw_documents, settings) if raw_documents else None
+    messages: typing.List[models.Message] = error.parse_error_response(
+        response,
         settings=settings,
     )
 
-    details = _extract_details(raw_documents, settings) if any(raw_documents) else None
-
     return details, messages
 
 
 def _extract_details(
-    raw_documents: typing.List[typing.Tuple[str, dict]],
+    raw_documents: typing.Union[typing.List[dict], dict],
     settings: provider_utils.Settings,
 ) -> models.DocumentUploadDetails:
-    documents: typing.List[typing.Tuple[str, FormsHistoryDocumentIDType]] = [
-        (name, lib.to_object(FormsHistoryDocumentIDType, doc))
-        for name, doc in raw_documents
+    documents: typing.List[FormsHistoryDocumentIDType] = [
+        lib.to_object(FormsHistoryDocumentIDType, doc)
+        for doc in (
+            raw_documents if isinstance(raw_documents, list) else [raw_documents]
+        )
     ]
 
     return models.DocumentUploadDetails(
         carrier_id=settings.carrier_id,
         carrier_name=settings.carrier_id,
         documents=[
             models.DocumentDetails(
                 doc_id=doc.DocumentID,
-                file_name=name,
+                file_name=doc.DocumentID,
             )
-            for name, doc in documents
+            for doc in documents
         ],
         meta=dict(),
     )
 
 
 def document_upload_request(
     payload: models.DocumentUploadRequest,
     settings: provider_utils.Settings,
 ) -> lib.Serializable:
     document_files = lib.to_document_files(payload.document_files)
     options = lib.to_upload_options(payload.options)
 
-    request = [
-        ups.DocumentUploadRequestType(
-            UPSSecurity=ups.UPSSecurityType(
-                UsernameToken=ups.UsernameTokenType(
-                    Username=settings.username,
-                    Password=settings.password,
-                ),
-                ServiceAccessToken=ups.ServiceAccessTokenType(
-                    AccessLicenseNumber=settings.access_license_number,
-                ),
-            ),
-            UploadRequest=ups.UploadRequestType(
-                ShipperNumber=(
-                    options.ups_shipper_number.state or settings.account_number
-                ),
-                UserCreatedForm=ups.UserCreatedFormType(
+    request = ups.DocumentUploadRequestType(
+        UploadRequest=ups.UploadRequestType(
+            Request=ups.RequestType(TransactionReference="document upload"),
+            ShipperNumber=(options.ups_shipper_number.state or settings.account_number),
+            UserCreatedForm=[
+                ups.UserCreatedFormType(
                     UserCreatedFormFileName=document.doc_name,
                     UserCreatedFormFileFormat=document.doc_format,
                     UserCreatedFormDocumentType=provider_units.UploadDocumentType.map(
                         document.doc_type or units.UploadDocumentType.other.value
                     ).value,
                     UserCreatedFormFile=document.doc_file,
-                ),
-            ),
-        )
-        for document in document_files
-    ]
+                )
+                for document in document_files
+            ],
+        ),
+    )
 
     return lib.Serializable(request, lib.to_dict)
```

## karrio/providers/ups/error.py

```diff
@@ -1,35 +1,19 @@
-import ups_lib.error_1_1 as ups
 import typing
 import karrio.lib as lib
 import karrio.core.models as models
-import karrio.providers.ups.utils as provider_utils
 from karrio.providers.ups.utils import Settings
 
 
 def parse_error_response(
-    response: lib.Element,
-    settings: provider_utils.Settings,
-) -> typing.List[models.Message]:
-    errors = lib.find_element("PrimaryErrorCode", response, ups.CodeType)
-
-    return [
-        models.Message(
-            code=error.Code,
-            message=error.Description,
-            carrier_name=settings.carrier_name,
-            carrier_id=settings.carrier_id,
-        )
-        for error in errors
-    ]
-
-
-def parse_rest_error_response(
-    responses: typing.List[dict], settings: Settings, details: dict = None
+    responses: typing.Union[typing.List[dict], dict],
+    settings: Settings,
+    details: dict = None,
 ) -> typing.List[models.Message]:
+    results = responses if isinstance(responses, list) else [responses]
     errors: typing.List[dict] = sum(
         [
             [
                 *(  # get errors from the response object returned by UPS
                     result["response"].get("errors", []) if "response" in result else []
                 ),
                 *(  # get warnings from the trackResponse object returned by UPS
@@ -55,15 +39,15 @@
                     .get("Errors", {})
                     .get("ErrorDetail", {})
                     .get("PrimaryErrorCode")
                     is not None
                     else []
                 ),
             ]
-            for result in responses
+            for result in results
         ],
         [],
     )
 
     return [
         models.Message(
             carrier_name=settings.carrier_name,
```

## karrio/providers/ups/rate.py

```diff
@@ -1,83 +1,75 @@
-import ups_lib.rate_web_service_schema as ups
+import ups_lib.rating_request as ups
+import ups_lib.rating_response as ups_response
 import time
 import typing
 import karrio.lib as lib
 import karrio.core.models as models
 import karrio.providers.ups.error as provider_error
 import karrio.providers.ups.units as provider_units
 import karrio.providers.ups.utils as provider_utils
 
 
 def parse_rate_response(
-    _response: lib.Deserializable[lib.Element],
+    _response: lib.Deserializable[dict],
     settings: provider_utils.Settings,
 ) -> typing.Tuple[typing.List[models.RateDetails], typing.List[models.Message]]:
     response = _response.deserialize()
     messages = provider_error.parse_error_response(response, settings)
-    rates = [
-        _extract_details(node, settings, _response.ctx)
-        for node in lib.find_element("RatedShipment", response)
-    ]
+    raw_rates = response.get("RateResponse", {}).get("RatedShipment") or []
+    rates = [_extract_details(rate, settings, _response.ctx) for rate in raw_rates]
 
     return rates, messages
 
 
 def _extract_details(
-    detail_node: lib.Element,
+    detail: dict,
     settings: provider_utils.Settings,
     ctx: dict,
 ) -> typing.List[models.RateDetails]:
-    rate = lib.to_object(ups.RatedShipmentType, detail_node)
+    rate = lib.to_object(ups_response.RatedShipmentType, detail)
 
     if rate.NegotiatedRateCharges is not None:
-        total_charges = (
+        total_charge = (
             rate.NegotiatedRateCharges.TotalChargesWithTaxes
             or rate.NegotiatedRateCharges.TotalCharge
         )
-        taxes = rate.NegotiatedRateCharges.TaxCharges
-        itemized_charges = rate.NegotiatedRateCharges.ItemizedCharges + taxes
+        taxes = rate.NegotiatedRateCharges.TaxCharges or []
+        itemized_charges = [*rate.NegotiatedRateCharges.ItemizedCharges, *taxes]
     else:
-        total_charges = rate.TotalChargesWithTaxes or rate.TotalCharges
-        taxes = rate.TaxCharges
-        itemized_charges = rate.ItemizedCharges + taxes
+        total_charge = rate.TotalChargesWithTaxes or rate.TotalCharges
+        taxes = rate.TaxCharges or []
+        itemized_charges = [*rate.ItemizedCharges, *taxes]
 
     charges = [
         ("Base charge", rate.TransportationCharges.MonetaryValue),
         *(
             []
             if any(itemized_charges)
             else [("Taxes", sum(lib.to_money(c.MonetaryValue) for c in taxes))]
         ),
-        (rate.ServiceOptionsCharges.Code, rate.ServiceOptionsCharges.MonetaryValue),
+        (rate.Service.Code, rate.ServiceOptionsCharges.MonetaryValue),
         *(
             (getattr(c, "Code", None) or getattr(c, "Type", None), c.MonetaryValue)
             for c in itemized_charges
         ),
     ]
-    estimated_arrival = (
-        lib.find_element(
-            "EstimatedArrival", detail_node, ups.EstimatedArrivalType, first=True
-        )
-        or ups.EstimatedArrivalType()
-    )
-    transit_days = (
-        rate.GuaranteedDelivery.BusinessDaysInTransit
-        if rate.GuaranteedDelivery is not None
-        else estimated_arrival.BusinessDaysInTransit
+
+    transit_days = lib.failsafe(
+        lambda: rate.TimeInTransit.ServiceSummary.EstimatedArrival.TotalTransitDays,
     )
-    currency = lib.find_element("CurrencyCode", detail_node, first=True).text
+    currency = rate.TransportationCharges.CurrencyCode
     service = provider_units.ServiceZone.find(rate.Service.Code, ctx["origin"])
 
     return models.RateDetails(
         carrier_name=settings.carrier_name,
         carrier_id=settings.carrier_id,
         currency=currency,
         service=service.name_or_key,
-        total_charge=lib.to_money(total_charges.MonetaryValue),
+        total_charge=lib.to_money(total_charge.MonetaryValue),
         extra_charges=[
             models.ChargeDetails(
                 name=name,
                 amount=lib.to_money(amount),
                 currency=currency,
             )
             for name, amount in charges
@@ -102,280 +94,267 @@
         package_options=packages.options,
         initializer=provider_units.shipping_options_initializer,
     )
     currency = options.currency.state or settings.default_currency
     mps_packaging = (
         provider_units.PackagingType.ups_unknown.value if len(packages) > 1 else None
     )
-    indications = (["01"] if options.pickup_options.state else []) + (
-        ["02"] if options.delivery_options.state else []
-    )
+    indications = [
+        *(["01"] if options.pickup_options.state else []),
+        *(["02"] if options.delivery_options.state else []),
+    ]
 
-    request = ups.RateRequest(
-        Request=ups.RequestType(
-            RequestOption=["Shoptimeintransit"],
-            SubVersion=None,
-            TransactionReference=ups.TransactionReferenceType(
-                CustomerContext=payload.reference,
-                TransactionIdentifier=getattr(payload, "id", None),
+    request = ups.RatingRequestType(
+        RateRequest=ups.RateRequestType(
+            Request=ups.RequestType(
+                RequestOption="Shoptimeintransit",
+                SubVersion="2205",
+                TransactionReference=ups.TransactionReferenceType(
+                    CustomerContext=payload.reference or "fetch rates",
+                ),
             ),
-        ),
-        PickupType=None,
-        CustomerClassification=None,
-        Shipment=ups.ShipmentType(
-            OriginRecordTransactionTimestamp=None,
-            Shipper=ups.ShipperType(
-                Name=shipper.company_name,
-                ShipperNumber=settings.account_number,
-                Address=ups.ShipAddressType(
-                    AddressLine=lib.join(
-                        shipper.street,
-                        shipper.address_line2,
+            PickupType=None,
+            CustomerClassification=None,
+            Shipment=ups.ShipmentType(
+                OriginRecordTransactionTimestamp=None,
+                Shipper=ups.ShipType(
+                    Name=shipper.name,
+                    AttentionName=shipper.contact,
+                    ShipperNumber=settings.account_number,
+                    Address=ups.ShipFromAddressType(
+                        AddressLine=shipper.address_line,
+                        City=shipper.city,
+                        StateProvinceCode=shipper.state_code,
+                        PostalCode=shipper.postal_code,
+                        CountryCode=shipper.country_code,
                     ),
-                    City=shipper.city,
-                    StateProvinceCode=shipper.state_code,
-                    PostalCode=shipper.postal_code,
-                    CountryCode=shipper.country_code,
                 ),
-            ),
-            ShipTo=ups.ShipToType(
-                Name=recipient.company_name,
-                Address=ups.ShipToAddressType(
-                    AddressLine=lib.join(
-                        recipient.street,
-                        recipient.address_line2,
+                ShipTo=ups.ShipToType(
+                    Name=recipient.name,
+                    AttentionName=recipient.contact,
+                    Address=ups.AlternateDeliveryAddressAddressType(
+                        AddressLine=recipient.address_line,
+                        City=recipient.city,
+                        StateProvinceCode=recipient.state_code,
+                        PostalCode=recipient.postal_code,
+                        CountryCode=recipient.country_code,
+                        ResidentialAddressIndicator=(
+                            "Y" if recipient.residential else None
+                        ),
+                        POBoxIndicator=None,
                     ),
-                    City=recipient.city,
-                    StateProvinceCode=recipient.state_code,
-                    PostalCode=recipient.postal_code,
-                    CountryCode=recipient.country_code,
-                    ResidentialAddressIndicator=None,
                 ),
-            ),
-            ShipFrom=None,
-            AlternateDeliveryAddress=None,
-            ShipmentIndicationType=(
-                [ups.IndicationType(Code=code) for code in indications]
-                if any(indications)
-                else None
-            ),
-            PaymentDetails=None,
-            FRSPaymentInformation=None,
-            FreightShipmentInformation=None,
-            GoodsNotInFreeCirculationIndicator=None,
-            Service=(
-                ups.UOMCodeDescriptionType(
+                ShipFrom=ups.ShipType(
+                    Name=shipper.name,
+                    AttentionName=shipper.contact,
+                    Address=ups.ShipFromAddressType(
+                        AddressLine=shipper.address_line,
+                        City=shipper.city,
+                        StateProvinceCode=shipper.state_code,
+                        PostalCode=shipper.postal_code,
+                        CountryCode=shipper.country_code,
+                    ),
+                ),
+                AlternateDeliveryAddress=None,
+                ShipmentIndicatorType=[
+                    ups.CustomerClassificationType(Code=code, Description="Indicator")
+                    for code in indications
+                ],
+                PaymentDetails=ups.PaymentDetailsType(
+                    ShipmentCharge=ups.ShipmentChargeType(
+                        Type="01",
+                        BillShipper=ups.BillShipperType(
+                            AccountNumber=settings.account_number,
+                        ),
+                        BillReceiver=None,
+                        BillThirdParty=None,
+                        ConsigneeBilledIndicator=None,
+                    ),
+                    SplitDutyVATIndicator=None,
+                ),
+                FRSPaymentInformation=None,
+                FreightShipmentInformation=None,
+                GoodsNotInFreeCirculationIndicator=None,
+                Service=ups.CustomerClassificationType(
                     Code=(
                         service.value
                         if service
                         else provider_units.ServiceCode.ups_standard.value
-                    )
-                )
-            ),
-            NumOfPieces=None,  # Only required for Freight
-            ShipmentTotalWeight=ups.ShipmentWeightType(
-                UnitOfMeasurement=ups.CodeDescriptionType1(
-                    Code=provider_units.WeightUnit[packages.weight_unit].value
+                    ),
+                    Description="Weight",
                 ),
-                Weight=packages.weight.value,
-            ),  # Only required for "timeintransit" requests
-            DocumentsOnlyIndicator=("" if is_document else None),
-            Package=[
-                ups.PackageType(
-                    PackagingType=ups.UOMCodeDescriptionType(
-                        Code=(
-                            mps_packaging
-                            or provider_units.PackagingType.map(
-                                package.packaging_type
-                            ).value
-                            or provider_units.PackagingType.ups_customer_supplied_package.value
+                NumOfPieces=None,  # Only required for Freight
+                ShipmentTotalWeight=ups.WeightType(
+                    UnitOfMeasurement=ups.CustomerClassificationType(
+                        Code=provider_units.WeightUnit[packages.weight_unit].value,
+                        Description="Dimension",
+                    ),
+                    Weight=str(packages.weight.value),
+                ),  # Only required for "timeintransit" requests
+                DocumentsOnlyIndicator=("Y" if is_document else None),
+                Package=[
+                    ups.PackageType(
+                        PackagingType=ups.CustomerClassificationType(
+                            Code=(
+                                mps_packaging
+                                or provider_units.PackagingType.map(
+                                    package.packaging_type
+                                ).value
+                                or provider_units.PackagingType.ups_customer_supplied_package.value
+                            ),
+                            Description="Packaging Type",
                         ),
-                        Description=None,
-                    ),
-                    Dimensions=(
-                        ups.DimensionsType(
-                            UnitOfMeasurement=ups.UOMCodeDescriptionType(
-                                Code=package.dimension_unit.value, Description=None
+                        Dimensions=(
+                            ups.DimensionsType(
+                                UnitOfMeasurement=ups.CustomerClassificationType(
+                                    Code=package.dimension_unit.value,
+                                    Description="Dimension",
+                                ),
+                                Length=str(package.length.value),
+                                Width=str(package.width.value),
+                                Height=str(package.height.value),
+                            )
+                            if any([package.length, package.width, package.height])
+                            else None
+                        ),
+                        DimWeight=None,
+                        PackageWeight=ups.WeightType(
+                            UnitOfMeasurement=ups.CustomerClassificationType(
+                                Code=provider_units.WeightUnit[
+                                    packages.weight_unit
+                                ].value,
+                                Description="Weight",
                             ),
-                            Length=package.length.value,
-                            Width=package.width.value,
-                            Height=package.height.value,
-                        )
-                        if any(
-                            [
-                                package.length.value,
-                                package.height.value,
-                                package.width.value,
-                            ]
-                        )
-                        else None
-                    ),
-                    DimWeight=None,
-                    PackageWeight=ups.PackageWeightType(
-                        UnitOfMeasurement=ups.UOMCodeDescriptionType(
-                            Code=provider_units.WeightUnit[
-                                package.weight_unit.name
-                            ].value,
-                            Description=None,
+                            Weight=str(packages.weight.value),
                         ),
-                        Weight=package.weight.value,
+                        Commodity=None,
+                        PackageServiceOptions=None,
+                        UPSPremier=None,
+                        OversizeIndicator=None,
+                        MinimumBillableWeightIndicator=None,
                     )
-                    if package.weight.value
-                    else None,
-                    Commodity=None,
-                    PackageServiceOptions=None,
-                    AdditionalHandlingIndicator=None,
-                )
-                for package in packages
-            ],
-            ShipmentServiceOptions=(
-                ups.ShipmentServiceOptionsType(
-                    SaturdayPickupIndicator=(
-                        "" if options.ups_saturday_pickup_indicator.state else None
-                    ),
-                    SaturdayDeliveryIndicator=(
-                        "" if options.ups_saturday_delivery_indicator.state else None
-                    ),
-                    AccessPointCOD=(
-                        ups.ShipmentServiceOptionsAccessPointCODType(
-                            CurrencyCode=currency,
-                            MonetaryValue=lib.to_money(
-                                options.ups_access_point_cod.state
-                            ),
-                        )
-                        if options.ups_access_point_cod.state
-                        else None
-                    ),
-                    DeliverToAddresseeOnlyIndicator=(
-                        ""
-                        if options.ups_deliver_to_addressee_only_indicator.state
-                        else None
-                    ),
-                    DirectDeliveryOnlyIndicator=(
-                        "" if options.ups_direct_delivery_only_indicator.state else None
-                    ),
-                    DeliveryConfirmation=(
-                        ups.DeliveryConfirmationType(
-                            DCISType=options.ups_delivery_confirmation.state or "01"
-                        )
-                        if options.ups_delivery_confirmation.state
-                        else None
-                    ),
-                    ReturnOfDocumentIndicator=(
-                        "" if options.ups_return_of_document_indicator.state else None
-                    ),
-                    UPScarbonneutralIndicator=(
-                        "" if options.ups_carbonneutral_indicator.state else None
-                    ),
-                    CertificateOfOriginIndicator=(
-                        ""
-                        if options.ups_certificate_of_origin_indicator.state
-                        else None
-                    ),
-                    PickupOptions=(
-                        ups.PickupOptionsType(
-                            HoldForPickupIndicator="",
-                            LiftGateAtPickupIndicator=(
-                                ""
-                                if options.ups_lift_gate_at_pickup_indicator.state
-                                else None
-                            ),
-                        )
-                        if options.pickup_options.state
-                        else None
-                    ),
-                    DeliveryOptions=(
-                        ups.DeliveryOptionsType(
-                            DropOffAtUPSFacilityIndicator="",
-                            LiftGateAtDeliveryIndicator=(
-                                ""
-                                if options.ups_lift_gate_at_delivery_indicator.state
-                                else None
-                            ),
-                        )
-                        if options.delivery_options.state
-                        else None
-                    ),
-                    RestrictedArticles=(
-                        ups.RestrictedArticlesType(
-                            AlcoholicBeveragesIndicator=None,
-                            DiagnosticSpecimentsIndicator=None,
-                            PerishablesIndicator=None,
-                            PlantsIndicator=None,
-                            SeedsIndicator=None,
-                            SpecialExceptionsIndicator="",
-                            TobaccoIndicator=None,
+                    for package in packages
+                ],
+                ShipmentServiceOptions=(
+                    ups.ShipmentServiceOptionsType(
+                        SaturdayDeliveryIndicator=(
+                            "Y" if options.ups_saturday_delivery.state else None
+                        ),
+                        SaturdayPickupIndicator=(
+                            "Y" if options.ups_saturday_pickup.state else None
+                        ),
+                        SundayDeliveryIndicator=(
+                            "Y" if options.ups_sunday_delivery.state else None
+                        ),
+                        AvailableServicesOption=None,
+                        AccessPointCOD=None,
+                        DeliverToAddresseeOnlyIndicator=(
+                            "Y" if options.ups_deliver_to_addressee_only.state else None
+                        ),
+                        DirectDeliveryOnlyIndicator=(
+                            "Y" if options.ups_direct_delivery_only.state else None
+                        ),
+                        COD=None,
+                        DeliveryConfirmation=None,
+                        ReturnOfDocumentIndicator=(
+                            "Y" if options.ups_return_of_document.state else None
+                        ),
+                        UPScarbonneutralIndicator=(
+                            "Y" if options.ups_carbonneutral.state else None
+                        ),
+                        CertificateOfOriginIndicator=(
+                            "Y" if options.ups_certificate_of_origin.state else None
+                        ),
+                        PickupOptions=(
+                            ups.PickupOptionsType(
+                                HoldForPickupIndicator="Y",
+                                LiftGateForPickUpIndicator=(
+                                    "Y"
+                                    if options.ups_lift_gate_for_pickup.state
+                                    else None
+                                ),
+                            )
+                            if any(options.pickup_options.state)
+                            else None
+                        ),
+                        DeliveryOptions=(
+                            ups.DeliveryOptionsType(
+                                DropOffAtUPSFacilityIndicator="Y",
+                                LiftGateForDeliveryIndicator=(
+                                    "Y"
+                                    if options.ups_lift_gate_for_delivery.state
+                                    else None
+                                ),
+                            )
+                            if any(options.delivery_options.state)
+                            else None
+                        ),
+                        RestrictedArticles=(
+                            ups.RestrictedArticlesType(
+                                AlcoholicBeveragesIndicator=None,
+                                DiagnosticSpecimensIndicator=None,
+                                PerishablesIndicator=None,
+                                PlantsIndicator=None,
+                                SeedsIndicator=None,
+                                SpecialExceptionsIndicator="Y",
+                                TobaccoIndicator=None,
+                            )
+                            if options.dangerous_goods.state
+                            else None
+                        ),
+                        ShipperExportDeclarationIndicator=(
+                            "Y"
+                            if options.ups_shipper_export_declaration.state
+                            else None
+                        ),
+                        CommercialInvoiceRemovalIndicator=(
+                            "Y"
+                            if options.ups_commercial_invoice_removal.state
+                            else None
+                        ),
+                        ImportControl=None,
+                        ReturnService=None,
+                        SDLShipmentIndicator=(
+                            "Y" if options.ups_sdl_shipment.state else None
+                        ),
+                        EPRAIndicator=(
+                            "Y" if options.ups_epra_indicator.state else None
+                        ),
+                        InsideDelivery=None,
+                        ItemDisposalIndicator=None,
+                    )
+                    if any(options.items())
+                    else None
+                ),
+                ShipmentRatingOptions=ups.ShipmentRatingOptionsType(
+                    NegotiatedRatesIndicator="Y",
+                    FRSShipmentIndicator=None,
+                    RateChartIndicator=None,
+                    UserLevelDiscountIndicator=None,
+                    TPFCNegotiatedRatesIndicator=None,
+                ),
+                InvoiceLineTotal=ups.InvoiceLineTotalType(
+                    CurrencyCode=currency,
+                    MonetaryValue=str(options.declared_value.state or 1.0),
+                ),
+                RatingMethodRequestedIndicator="Y",
+                TaxInformationIndicator="Y",
+                PromotionalDiscountInformation=None,
+                DeliveryTimeInformation=ups.DeliveryTimeInformationType(
+                    PackageBillType=("02" if is_document else "03"),
+                    Pickup=ups.PickupType(
+                        Date=lib.fdatetime(
+                            options.shipment_date.state or time.strftime("%Y-%m-%d"),
+                            current_format="%Y-%m-%d",
+                            output_format="%Y%m%d",
                         )
-                        if options.dangerous_good.state
-                        else None
-                    ),
-                    ShipperExportDeclarationIndicator=(
-                        ""
-                        if options.ups_shipper_export_declaration_indicator.state
-                        else None
-                    ),
-                    CommercialInvoiceRemovalIndicator=(
-                        ""
-                        if options.ups_commercial_invoice_removal_indicator.state
-                        else None
-                    ),
-                    ImportControl=None,
-                    ReturnService=None,
-                    SDLShipmentIndicator=(
-                        "" if options.ups_sdl_shipment_indicator.state else None
-                    ),
-                    EPRAIndicator=("" if options.ups_epra_indicator.state else None),
-                    InsideDelivery=None,
-                    ItemDisposalIndicator=None,
-                )
-                if any(options.items())
-                else None
-            ),
-            ShipmentRatingOptions=ups.ShipmentRatingOptionsType(
-                NegotiatedRatesIndicator="",
-                FRSShipmentIndicator=None,
-                RateChartIndicator="",
-                UserLevelDiscountIndicator=None,
-            ),
-            InvoiceLineTotal=ups.InvoiceLineTotalType(
-                CurrencyCode=currency,
-                MonetaryValue=options.declared_value.state or 1.0,
-            ),
-            RatingMethodRequestedIndicator="",
-            TaxInformationIndicator="",
-            PromotionalDiscountInformation=None,
-            DeliveryTimeInformation=ups.TimeInTransitRequestType(
-                PackageBillType="02" if is_document else "03",
-                Pickup=ups.PickupType(
-                    Date=lib.fdatetime(
-                        options.shipment_date.state or time.strftime("%Y-%m-%d"),
-                        current_format="%Y-%m-%d",
-                        output_format="%Y%m%d",
                     ),
                 ),
             ),
-        ),
+        )
     )
 
     return lib.Serializable(
-        lib.create_envelope(header_content=settings.Security, body_content=request),
-        _request_serializer,
+        request,
+        lib.to_dict,
         ctx=dict(origin=shipper.country_code),
     )
-
-
-def _request_serializer(envelope: lib.Envelope) -> str:
-    namespace_ = (
-        'xmlns:tns="http://schemas.xmlsoap.org/soap/envelope/"'
-        ' xmlns:xsd="http://www.w3.org/2001/XMLSchema"'
-        ' xmlns:upss="http://www.ups.com/XMLSchema/XOLTWS/UPSS/v1.0"'
-        ' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'
-        ' xmlns:common="http://www.ups.com/XMLSchema/XOLTWS/Common/v1.0"'
-        ' xmlns:rate="http://www.ups.com/XMLSchema/XOLTWS/Rate/v1.1"'
-    )
-    envelope.Body.ns_prefix_ = envelope.ns_prefix_
-    envelope.Header.ns_prefix_ = envelope.ns_prefix_
-    lib.apply_namespaceprefix(envelope.Body.anytypeobjs_[0], "rate")
-    lib.apply_namespaceprefix(envelope.Header.anytypeobjs_[0], "upss")
-    lib.apply_namespaceprefix(envelope.Body.anytypeobjs_[0].Request, "common")
-
-    return lib.to_xml(envelope, namespacedef_=namespace_)
```

## karrio/providers/ups/tracking.py

```diff
@@ -1,8 +1,8 @@
-import ups_lib.rest_tracking_response as ups
+import ups_lib.tracking_response as ups
 import typing
 import karrio.lib as lib
 import karrio.core.models as models
 import karrio.providers.ups.error as error
 import karrio.providers.ups.utils as provider_utils
 import karrio.providers.ups.units as provider_units
 
@@ -14,15 +14,15 @@
     responses = _responses.deserialize()
     packages = [
         result["trackResponse"]["shipment"][0]
         for _, result in responses
         if "trackResponse" in result
         and result["trackResponse"]["shipment"][0].get("package") is not None
     ]
-    messages: typing.List[models.Message] = error.parse_rest_error_response(
+    messages: typing.List[models.Message] = error.parse_error_response(
         [response for _, response in responses],
         settings=settings,
     )
     details = [_extract_details(package, settings) for package in packages]
 
     return details, messages
```

## karrio/providers/ups/units.py

```diff
@@ -107,14 +107,16 @@
     small_box = ups_small_express_box
     medium_box = ups_medium_express_box
     your_packaging = ups_customer_supplied_package
 
 
 class ConnectionConfig(utils.Enum):
     label_type = utils.OptionEnum("label_type")
+    cost_center = utils.OptionEnum("cost_center")
+    merchant_id = utils.OptionEnum("merchant_id")
     enforce_zpl = utils.OptionEnum("enforce_zpl", bool)
     shipping_options = utils.OptionEnum("shipping_options", list)
     shipping_services = utils.OptionEnum("shipping_services", list)
 
 
 class ServiceCode(utils.Enum):
     ups_express = "07"
```

## karrio/providers/ups/utils.py

```diff
@@ -1,24 +1,27 @@
-import ups_lib.ups_security as ups
 import typing
+import base64
+import jstruct
+import datetime
 import karrio.lib as lib
 import karrio.core.units as units
+import karrio.core.errors as errors
 from karrio.core import Settings as BaseSettings
 
 
 class Settings(BaseSettings):
     """UPS connection settings."""
 
-    username: str
-    password: str
-    access_license_number: str
+    client_id: str
+    client_secret: str
     account_number: str = None
     account_country_code: str = None
     metadata: dict = {}
     config: dict = {}
+    cache: lib.Cache = jstruct.JStruct[lib.Cache]
 
     id: str = None
 
     @property
     def carrier_name(self):
         return "ups"
 
@@ -27,25 +30,14 @@
         return (
             "https://wwwcie.ups.com"
             if self.test_mode
             else "https://onlinetools.ups.com"
         )
 
     @property
-    def Security(self):
-        return ups.UPSSecurity(
-            UsernameToken=ups.UsernameTokenType(
-                Username=self.username, Password=self.password
-            ),
-            ServiceAccessToken=ups.ServiceAccessTokenType(
-                AccessLicenseNumber=self.access_license_number
-            ),
-        )
-
-    @property
     def default_currency(self) -> typing.Optional[str]:
         if self.account_country_code in SUPPORTED_COUNTRY_CURRENCY:
             return units.CountryCurrency.map(self.account_country_code).value
 
         return "USD"
 
     @property
@@ -57,33 +49,60 @@
         from karrio.providers.ups.units import ConnectionConfig
 
         return lib.to_connection_config(
             self.config or {},
             option_type=ConnectionConfig,
         )
 
-
-def default_request_serializer(
-    prefix: str,
-    namespace: str,
-) -> typing.Callable[[lib.Envelope], str]:
-    def serializer(envelope: lib.Envelope):
-        namespace_ = (
-            'xmlns:tns="http://schemas.xmlsoap.org/soap/envelope/"'
-            ' xmlns:xsd="http://www.w3.org/2001/XMLSchema"'
-            ' xmlns:upss="http://www.ups.com/XMLSchema/XOLTWS/UPSS/v1.0"'
-            ' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'
-            ' xmlns:common="http://www.ups.com/XMLSchema/XOLTWS/Common/v1.0"'
-            f" {namespace}"
-        )
-        envelope.Body.ns_prefix_ = envelope.ns_prefix_
-        envelope.Header.ns_prefix_ = envelope.ns_prefix_
-        lib.apply_namespaceprefix(envelope.Body.anytypeobjs_[0], prefix)
-        lib.apply_namespaceprefix(envelope.Header.anytypeobjs_[0], "upss")
-        lib.apply_namespaceprefix(envelope.Body.anytypeobjs_[0].Request, "common")
-
-        return lib.to_xml(envelope, namespacedef_=namespace_)
-
-    return serializer
+    @property
+    def authorization(self):
+        pair = "%s:%s" % (self.client_id, self.client_secret)
+        return base64.b64encode(pair.encode("utf-8")).decode("ascii")
+
+    @property
+    def access_token(self):
+        """Retrieve the access_token using the client_id|client_secret pair
+        or collect it from the cache if an unexpired access_token exist.
+        """
+        cache_key = f"{self.carrier_name}|{self.client_id}|{self.client_secret}"
+        now = datetime.datetime.now() + datetime.timedelta(minutes=30)
+
+        auth = self.cache.get(cache_key) or {}
+        token = auth.get("access_token")
+        expiry = lib.to_date(auth.get("expiry"), current_format="%Y-%m-%d %H:%M:%S")
+
+        if token is not None and expiry is not None and expiry > now:
+            return token
+
+        self.cache.set(cache_key, lambda: login(self))
+        new_auth = self.cache.get(cache_key)
+
+        return new_auth["access_token"]
+
+
+def login(settings: Settings):
+    import karrio.providers.ups.error as error
+
+    merchant_id = settings.connection_config.merchant_id.state
+    result = lib.request(
+        url=f"{settings.server_url}/security/v1/oauth/token",
+        data="grant_type=client_credentials",
+        method="POST",
+        headers={
+            "authorization": f"Basic {settings.authorization}",
+            "content-Type": "application/x-www-form-urlencoded",
+            **({"x-merchant-id": merchant_id} if merchant_id else {}),
+        },
+    )
+    response = lib.to_dict(result)
+    messages = error.parse_error_response(response, settings)
+
+    if any(messages):
+        raise errors.ShippingSDKError(messages)
+
+    expiry = datetime.datetime.fromtimestamp(
+        float(response.get("issued_at")) / 1000
+    ) + datetime.timedelta(seconds=float(response.get("expires_in", 0)))
+    return {**response, "expiry": lib.fdatetime(expiry)}
 
 
 SUPPORTED_COUNTRY_CURRENCY = ["US", "CA", "FR", "FR", "AU"]
```

## karrio/providers/ups/shipment/cancel.py

```diff
@@ -1,79 +1,41 @@
-from typing import List, Tuple
-from ups_lib import common
-from ups_lib.void_web_service_schema import (
-    VoidShipmentRequest,
-    CodeDescriptionType,
-    VoidShipmentType,
-)
-from karrio.core.utils import Envelope, Element, create_envelope, Serializable, XP
-from karrio.core.models import (
-    ShipmentCancelRequest,
-    ConfirmationDetails,
-    Message,
-)
-from karrio.providers.ups.utils import Settings, default_request_serializer
-from karrio.providers.ups.error import parse_error_response
+import ups_lib.shipping_cancel_response as ups
+import typing
 import karrio.lib as lib
+import karrio.core.units as units
+import karrio.core.models as models
+import karrio.providers.ups.error as provider_error
+import karrio.providers.ups.units as provider_units
+import karrio.providers.ups.utils as provider_utils
 
 
 def parse_shipment_cancel_response(
-    _response: lib.Deserializable[Element], settings: Settings
-) -> Tuple[ConfirmationDetails, List[Message]]:
+    _response: lib.Deserializable[dict],
+    settings: provider_utils.Settings,
+) -> typing.Tuple[models.ConfirmationDetails, typing.List[models.Message]]:
     response = _response.deserialize()
-    status = XP.to_object(
-        CodeDescriptionType,
-        lib.find_element("ResponseStatus", response, first=True),
+    result = lib.to_object(
+        ups.VoidShipmentResponseType, (response.get("VoidShipmentResponse") or {})
     )
-    success = status is not None and status.Code == "1"
+    success = lib.failsafe(lambda: result.Response.ResponseStatus.Code) == "1"
+
     cancellation = (
-        ConfirmationDetails(
+        models.ConfirmationDetails(
             carrier_id=settings.carrier_id,
             carrier_name=settings.carrier_name,
             success=success,
             operation="Cancel Shipment",
         )
         if success
         else None
     )
 
-    return cancellation, parse_error_response(response, settings)
+    return cancellation, provider_error.parse_error_response(response, settings)
 
 
 def shipment_cancel_request(
-    payload: ShipmentCancelRequest, settings: Settings
-) -> Serializable:
-    request = create_envelope(
-        header_content=settings.Security,
-        body_content=VoidShipmentRequest(
-            Request=common.RequestType(
-                TransactionReference=common.TransactionReferenceType(
-                    CustomerContext=payload.shipment_identifier,
-                ),
-            ),
-            VoidShipment=VoidShipmentType(
-                ShipmentIdentificationNumber=payload.shipment_identifier,
-                TrackingNumber=None,
-            ),
-        ),
-    )
+    payload: models.ShipmentCancelRequest,
+    settings: provider_utils.Settings,
+) -> lib.Serializable:
+    request = dict(shipmentidentificationnumber=payload.shipment_identifier)
 
-    return lib.Serializable(
-        request,
-        lambda envelope: lib.envelope_serializer(
-            envelope,
-            namespace=(
-                'xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"'
-                ' xmlns:xsd="http://www.w3.org/2001/XMLSchema"'
-                ' xmlns:upss="http://www.ups.com/XMLSchema/XOLTWS/UPSS/v1.0"'
-                ' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'
-                ' xmlns:common="http://www.ups.com/XMLSchema/XOLTWS/Common/v1.0"'
-                ' xmlns:void="http://www.ups.com/XMLSchema/XOLTWS/Void/v1.1"'
-            ),
-            prefixes=dict(
-                Request="common",
-                Envelope="soapenv",
-                UPSSecurity="upss",
-                VoidShipmentRequest="void",
-            ),
-        ),
-    )
+    return lib.Serializable(request)
```

## karrio/providers/ups/shipment/create.py

```diff
@@ -1,42 +1,43 @@
-import ups_lib.ship_web_service_schema as ups
-import ups_lib.common as common
+import ups_lib.shipping_response as ups_response
+import ups_lib.shipping_request as ups
 import time
 import typing
 import karrio.lib as lib
 import karrio.core.units as units
 import karrio.core.models as models
 import karrio.providers.ups.error as provider_error
 import karrio.providers.ups.units as provider_units
 import karrio.providers.ups.utils as provider_utils
 
 
 def parse_shipment_response(
-    _response: lib.Deserializable[lib.Element],
+    _response: lib.Deserializable[dict],
     settings: provider_utils.Settings,
 ) -> typing.Tuple[models.ShipmentDetails, typing.List[models.Message]]:
     response = _response.deserialize()
-    details = lib.find_element("ShipmentResults", response, first=True)
+    details = response.get("ShipmentResponse", {}).get("ShipmentResults")
     shipment = (
         _extract_shipment(details, settings, _response.ctx)
         if details is not None
         else None
     )
 
     return shipment, provider_error.parse_error_response(response, settings)
 
 
 def _extract_shipment(
-    node: lib.Element,
+    details: dict,
     settings: provider_utils.Settings,
     ctx: dict,
 ) -> models.ShipmentDetails:
     label_type = "ZPL" if ctx["label"]["type"] == "ZPL" else "PDF"
     enforce_zpl = settings.connection_config.enforce_zpl.state
-    shipment = lib.to_object(ups.ShipmentResultsType, node)
+    shipment = lib.to_object(ups_response.ShipmentResultsType, details)
+    tracking_numbers = [pkg.TrackingNumber for pkg in shipment.PackageResults]
     label = _process_label(shipment)
     zpl_label = None
 
     if enforce_zpl and label_type == "PDF":
         _label = lib.failsafe(
             lambda: lib.zpl_to_pdf(
                 label,
@@ -58,19 +59,20 @@
         shipment_identifier=shipment.ShipmentIdentificationNumber,
         label_type=label_type,
         docs=models.Documents(label=label, zpl_label=zpl_label),
         meta=dict(
             carrier_tracking_link=settings.tracking_url.format(
                 shipment.ShipmentIdentificationNumber
             ),
+            tracking_numbers=tracking_numbers,
         ),
     )
 
 
-def _process_label(shipment: ups.ShipmentResultsType):
+def _process_label(shipment: ups_response.ShipmentResultsType):
     label_type = (
         "ZPL"
         if "ZPL" in shipment.PackageResults[0].ShippingLabel.ImageFormat.Code
         else "PDF"
     )
     labels = [
         (
@@ -107,347 +109,393 @@
     weight_unit, dim_unit = packages.compatible_units
     customs = lib.to_customs_info(
         payload.customs,
         shipper=payload.shipper,
         recipient=payload.recipient,
         weight_unit=weight_unit.value,
     )
-    service = provider_units.ServiceCode.map(payload.service).value_or_key
+    service = provider_units.ServiceCode.map(payload.service)
 
     payment = payload.payment or models.Payment()
     biling_address = lib.to_address(
         payload.billing_address
         or (payload.shipper if payment.paid_by == "sender" else payload.recipient)
     )
     duty_billing_address = lib.to_address(
         customs.duty_billing_address
         or (payload.shipper if customs.duty.paid_by == "sender" else payload.recipient)
     )
 
-    if any(key in service for key in ["freight", "ground"]):
+    if any(key in service.value_or_key for key in ["freight", "ground"]):
         packages.validate(required=["weight"])
 
     country_pair = f"{shipper.country_code}/{recipient.country_code}"
-    charges = (
-        [("01", payment, biling_address)]
-        if payload.customs is None
-        else [
-            ("01", payment, biling_address),
-            ("02", customs.duty, duty_billing_address),
-        ]
-    )
+    charges = [
+        ("01", payment, biling_address),
+        *([("02", customs.duty, duty_billing_address)] if customs is not None else []),
+    ]
+    indications = [
+        *(["01"] if options.pickup_options.state else []),
+        *(["02"] if options.delivery_options.state else []),
+    ]
+    currency = options.currency.state or settings.default_currency
     mps_packaging = (
         provider_units.PackagingType.your_packaging.value if len(packages) > 1 else None
     )
     enforce_zpl = settings.connection_config.enforce_zpl.state
     label_format, label_height, label_width = (
         provider_units.LabelType.map(
             payload.label_type or settings.connection_config.label_type.state
         ).value
         or provider_units.LabelType.PDF_6x4.value
     )
 
-    request = lib.Envelope(
-        Header=lib.Header(
-            settings.Security,
-        ),
-        Body=lib.Body(
-            ups.ShipmentRequest(
-                Request=common.RequestType(
-                    RequestOption=["validate"],
-                    SubVersion=None,
-                    TransactionReference=common.TransactionReferenceType(
-                        CustomerContext=payload.reference,
-                        TransactionIdentifier=getattr(payload, "id", None),
-                    ),
+    request = ups.ShippingRequestType(
+        ShipmentRequest=ups.ShipmentRequestType(
+            Request=ups.RequestType(
+                SubVersion="v2205",
+                RequestOption="validate",
+                TransactionReference=ups.TransactionReferenceType(
+                    CustomerContext=payload.reference or "generate label",
                 ),
-                Shipment=ups.ShipmentType(
-                    Description=packages.description,
-                    DocumentsOnlyIndicator=("" if packages.is_document else None),
-                    Shipper=ups.ShipperType(
-                        Name=(shipper.company_name or shipper.person_name),
-                        AttentionName=shipper.person_name,
-                        CompanyDisplayableName=shipper.company_name,
-                        TaxIdentificationNumber=shipper.federal_tax_id,
-                        TaxIDType=None,
-                        Phone=ups.ShipPhoneType(
-                            Number=shipper.phone_number or "000-000-0000"
-                        ),
-                        ShipperNumber=settings.account_number,
-                        FaxNumber=None,
-                        EMailAddress=shipper.email,
-                        Address=ups.ShipAddressType(
-                            AddressLine=shipper.address_lines,
-                            City=shipper.city,
-                            StateProvinceCode=shipper.state_code,
-                            PostalCode=shipper.postal_code,
-                            CountryCode=shipper.country_code,
-                        ),
+            ),
+            Shipment=ups.ShipmentType(
+                Description=packages.description,
+                ReturnService=None,
+                DocumentsOnlyIndicator=("Y" if packages.is_document else None),
+                Shipper=ups.ShipperType(
+                    Name=(shipper.company_name or shipper.person_name),
+                    AttentionName=shipper.contact,
+                    CompanyDisplayableName=shipper.company_name,
+                    TaxIdentificationNumber=shipper.tax_id,
+                    Phone=ups.ShipToPhoneType(
+                        Number=shipper.phone_number or "000-000-0000",
                     ),
-                    ShipFrom=ups.ShipperType(
-                        Name=(shipper.company_name or shipper.person_name),
-                        AttentionName=shipper.person_name,
-                        CompanyDisplayableName=shipper.company_name,
-                        TaxIdentificationNumber=shipper.federal_tax_id,
-                        TaxIDType=None,
-                        Phone=ups.ShipPhoneType(
-                            Number=shipper.phone_number or "000-000-0000"
-                        ),
-                        ShipperNumber=settings.account_number,
-                        FaxNumber=None,
-                        EMailAddress=shipper.email,
-                        Address=ups.ShipAddressType(
-                            AddressLine=shipper.address_lines,
-                            City=shipper.city,
-                            StateProvinceCode=shipper.state_code,
-                            PostalCode=shipper.postal_code,
-                            CountryCode=shipper.country_code,
+                    ShipperNumber=settings.account_number,
+                    FaxNumber=None,
+                    EMailAddress=shipper.email,
+                    Address=ups.AlternateDeliveryAddressAddressType(
+                        AddressLine=shipper.address_line,
+                        City=shipper.city,
+                        StateProvinceCode=shipper.state_code,
+                        PostalCode=shipper.postal_code,
+                        CountryCode=shipper.country_code,
+                        ResidentialAddressIndicator=(
+                            "Y" if shipper.is_residential else None
                         ),
                     ),
-                    ShipTo=ups.ShipToType(
-                        Name=(recipient.company_name or recipient.person_name),
-                        AttentionName=recipient.person_name,
-                        CompanyDisplayableName=recipient.company_name,
-                        TaxIdentificationNumber=recipient.federal_tax_id,
-                        TaxIDType=None,
-                        Phone=ups.ShipPhoneType(
-                            Number=recipient.phone_number or "000-000-0000"
-                        ),
-                        FaxNumber=None,
-                        EMailAddress=recipient.email,
-                        Address=ups.ShipAddressType(
-                            AddressLine=recipient.address_lines,
-                            City=recipient.city,
-                            StateProvinceCode=recipient.state_code,
-                            PostalCode=recipient.postal_code,
-                            CountryCode=recipient.country_code,
+                ),
+                ShipTo=ups.ShipToType(
+                    Name=(recipient.company_name or recipient.person_name),
+                    AttentionName=recipient.contact,
+                    CompanyDisplayableName=recipient.company_name,
+                    TaxIdentificationNumber=recipient.tax_id,
+                    Phone=ups.ShipToPhoneType(
+                        Number=recipient.phone_number or "000-000-0000",
+                        Extension=None,
+                    ),
+                    FaxNumber=None,
+                    EMailAddress=recipient.email,
+                    Address=ups.AlternateDeliveryAddressAddressType(
+                        AddressLine=recipient.address_line,
+                        City=recipient.city,
+                        StateProvinceCode=recipient.state_code,
+                        PostalCode=recipient.postal_code,
+                        CountryCode=recipient.country_code,
+                        ResidentialAddressIndicator=(
+                            "Y" if recipient.is_residential else None
                         ),
                     ),
-                    PaymentInformation=ups.PaymentInfoType(
-                        ShipmentCharge=[
-                            ups.ShipmentChargeType(
-                                Type=charge_type,
-                                BillShipper=(
-                                    ups.BillShipperType(
-                                        AccountNumber=settings.account_number,
-                                        CreditCard=None,
-                                        AlternatePaymentMethod=None,
-                                    )
-                                    if payment.paid_by == "sender"
-                                    else None
-                                ),
-                                BillReceiver=(
-                                    ups.BillReceiverType(
-                                        AccountNumber=payment.account_number,
-                                        Address=ups.BillReceiverAddressType(
-                                            PostalCode=address.postal_code,
-                                        ),
-                                    )
-                                    if payment.paid_by == "recipient"
-                                    else None
-                                ),
-                                BillThirdParty=(
-                                    ups.BillThirdPartyChargeType(
-                                        AccountNumber=payment.account_number,
-                                        Address=ups.AccountAddressType(
-                                            PostalCode=address.postal_code,
-                                            CountryCode=address.country_code,
-                                        ),
-                                    )
-                                    if payment.paid_by == "third_party"
-                                    else None
-                                ),
-                                ConsigneeBilledIndicator=None,
-                            )
-                            for charge_type, payment, address in charges
-                        ],
-                        SplitDutyVATIndicator=None,
+                    LocationID=None,
+                ),
+                AlternateDeliveryAddress=None,
+                ShipFrom=ups.ShipFromType(
+                    Name=(shipper.company_name or shipper.person_name),
+                    AttentionName=shipper.contact,
+                    CompanyDisplayableName=shipper.company_name,
+                    TaxIdentificationNumber=shipper.tax_id,
+                    Phone=ups.ShipFromPhoneType(
+                        Number=shipper.phone_number or "000-000-0000",
                     ),
-                    MovementReferenceNumber=None,
-                    ReferenceNumber=(
-                        [
-                            ups.ReferenceNumberType(
-                                BarCodeIndicator=None,
-                                Code=shipper.country_code,
-                                Value=payload.reference,
-                            )
-                        ]
-                        if (country_pair not in ["US/US", "PR/PR"])
-                        and any(payload.reference or "")
-                        else None
+                    FaxNumber=None,
+                    Address=ups.AlternateDeliveryAddressAddressType(
+                        AddressLine=shipper.address_line,
+                        City=shipper.city,
+                        StateProvinceCode=shipper.state_code,
+                        PostalCode=shipper.postal_code,
+                        CountryCode=shipper.country_code,
+                        ResidentialAddressIndicator=(
+                            "Y" if shipper.is_residential else None
+                        ),
                     ),
-                    Service=(
-                        ups.ServiceType(Code=service) if service is not None else None
+                    VendorInfo=None,
+                ),
+                PaymentInformation=ups.PaymentInformationType(
+                    ShipmentCharge=[
+                        ups.ShipmentChargeType(
+                            Type=charge_type,
+                            BillShipper=(
+                                ups.BillShipperType(
+                                    AccountNumber=(
+                                        payment.account_number
+                                        or settings.account_number
+                                    ),
+                                    CreditCard=None,
+                                    AlternatePaymentMethod=None,
+                                )
+                                if payment.paid_by == "sender"
+                                else None
+                            ),
+                            BillReceiver=(
+                                ups.BillReceiverType(
+                                    AccountNumber=payment.account_number,
+                                    Address=ups.BillReceiverAddressType(
+                                        PostalCode=billing_address.postal_code,
+                                    ),
+                                )
+                                if payment.paid_by == "recipient"
+                                else None
+                            ),
+                            BillThirdParty=(
+                                ups.BillThirdPartyType(
+                                    AccountNumber=payment.account_number,
+                                    CertifiedElectronicMail=None,
+                                    InterchangeSystemCode=None,
+                                    FRSPaymentInformation=None,
+                                )
+                                if payment.paid_by == "third_party"
+                                else None
+                            ),
+                            ConsigneeBilledIndicator=(
+                                "Y" if payment.paid_by == "recipient" else None
+                            ),
+                        )
+                        for charge_type, payment, billing_address in charges
+                    ],
+                    SplitDutyVATIndicator=None,
+                ),
+                FRSPaymentInformation=None,
+                FreightShipmentInformation=None,
+                GoodsNotInFreeCirculationIndicator=None,
+                PromotionalDiscountInformation=None,
+                DGSignatoryInfo=None,
+                ShipmentRatingOptions=ups.ShipmentRatingOptionsType(
+                    NegotiatedRatesIndicator="Y",
+                    FRSShipmentIndicator=None,
+                    RateChartIndicator=None,
+                    UserLevelDiscountIndicator=None,
+                    TPFCNegotiatedRatesIndicator=None,
+                ),
+                MovementReferenceNumber=None,
+                ReferenceNumber=(
+                    ups.ReferenceNumberType(
+                        BarCodeIndicator=None,
+                        Code=shipper.country_code,
+                        Value=payload.reference,
+                    )
+                    if (country_pair not in ["US/US", "PR/PR"])
+                    and any(payload.reference or "")
+                    else None
+                ),
+                Service=ups.LabelImageFormatType(
+                    Code=service.value_or_key,
+                    Description=service.name_or_key,
+                ),
+                InvoiceLineTotal=ups.InvoiceLineTotalType(
+                    CurrencyCode=currency,
+                    MonetaryValue=str(
+                        options.declared_value.state
+                        or packages.items.value_amount
+                        or 1.0
                     ),
-                    ShipmentServiceOptions=ups.ShipmentServiceOptionsType(
+                ),
+                NumOfPiecesInShipment=str(packages.items.quantity),
+                USPSEndorsement=None,
+                MILabelCN22Indicator=None,
+                SubClassification=None,
+                CostCenter=(
+                    options.cost_center.state
+                    or settings.connection_config.cost_center.state
+                ),
+                CostCenterBarcodeIndicator=(
+                    "Y"
+                    if (
+                        options.cost_center.state
+                        or settings.connection_config.cost_center.state
+                    )
+                    else None
+                ),
+                PackageID=None,
+                PackageIDBarcodeIndicator=None,
+                IrregularIndicator=None,
+                ShipmentIndicationType=[
+                    ups.LabelImageFormatType(Code=code, Description="Indicator")
+                    for code in indications
+                ],
+                MIDualReturnShipmentKey=None,
+                RatingMethodRequestedIndicator="Y",
+                TaxInformationIndicator="Y",
+                ShipmentServiceOptions=(
+                    ups.ShipmentServiceOptionsType(
                         SaturdayPickupIndicator=(
-                            "" if options.ups_saturday_pickup_indicator.state else None
+                            "Y" if options.ups_saturday_pickup.state else None
                         ),
                         SaturdayDeliveryIndicator=(
-                            ""
-                            if options.ups_saturday_delivery_indicator.state
-                            else None
+                            "Y" if options.ups_saturday_delivery.state else None
                         ),
                         COD=(
-                            ups.CODType(
-                                CODFundsCode=None,
-                                CODAmount=ups.CurrencyMonetaryType(
-                                    CurrencyCode=options.currency.state or "USD",
-                                    MonetaryValue=options.cash_on_delivery.state,
+                            ups.CodType(
+                                CODFundsCode="0",  # TODO: find reference
+                                CODAmount=ups.InvoiceLineTotalType(
+                                    CurrencyCode=options.currency.state,
+                                    MonetaryValue=str(options.cash_on_delivery.state),
                                 ),
                             )
                             if options.cash_on_delivery.state
                             else None
                         ),
                         AccessPointCOD=(
-                            ups.ShipmentServiceOptionsAccessPointCODType(
+                            ups.InvoiceLineTotalType(
                                 CurrencyCode=options.currency.state,
                                 MonetaryValue=lib.to_money(
                                     options.ups_access_point_cod.state
                                 ),
                             )
                             if options.ups_access_point_cod.state
                             else None
                         ),
-                        DeliverToAddresseOnlyIndicator=(
-                            ""
-                            if options.ups_deliver_to_addressee_only_indicator.state
-                            else None
-                        ),
-                        DirectDeliveryOnlyIndicator=(
-                            ""
-                            if options.ups_direct_delivery_only_indicator.state
-                            else None
-                        ),
+                        DeliverToAddresseeOnlyIndicator=None,
+                        DirectDeliveryOnlyIndicator=None,
                         Notification=(
                             [
-                                ups.NotificationType(
+                                ups.NotificationElementType(
                                     NotificationCode=event,
-                                    EMail=ups.EmailDetailsType(
-                                        EMailAddress=[
+                                    EMail=ups.MailType(
+                                        EMailAddress=(
                                             options.email_notification_to.state
                                             or recipient.email
-                                        ]
+                                        ),
+                                        UndeliverableEMailAddress=None,
+                                        FromEMailAddress=None,
+                                        FromName=None,
+                                        Memo=None,
+                                        Subject=None,
+                                        SubjectCode=None,
                                     ),
                                     VoiceMessage=None,
                                     TextMessage=None,
                                     Locale=None,
                                 )
-                                for event in [8]
+                                for event in ["8"]
                             ]
                             if options.email_notification.state
                             and any(
                                 [
                                     options.email_notification_to.state,
                                     recipient.email,
                                 ]
                             )
-                            else None
+                            else []
                         ),
                         LabelDelivery=None,
                         InternationalForms=(
-                            ups.InternationalFormType(
+                            ups.InternationalFormsType(
                                 FormType=(
-                                    ["07"] if options.paperless_trade.state else ["01"]
-                                ),
-                                UserCreatedForm=(
-                                    ups.UserCreatedFormType(
-                                        DocumentID=[
-                                            doc["doc_id"]
-                                            for doc in options.doc_references.state
-                                        ]
-                                    )
-                                    if any(options.doc_references.state or [])
-                                    else None
+                                    "07" if options.paperless_trade.state else "01"
                                 ),
-                                CN22Form=None,
+                                UserCreatedForm=[
+                                    ups.UserCreatedFormType(DocumentID=doc["doc_id"])
+                                    for doc in (options.doc_references.state or [])
+                                ],
                                 UPSPremiumCareForm=None,
+                                CN22Form=None,
                                 AdditionalDocumentIndicator=None,
                                 FormGroupIdName=None,
-                                SEDFilingOption=None,
                                 EEIFilingOption=None,
                                 Contacts=(
-                                    ups.ContactType(
+                                    ups.ContactsType(
                                         ForwardAgent=None,
                                         UltimateConsignee=None,
                                         IntermediateConsignee=None,
                                         Producer=None,
-                                        SoldTo=ups.SoldToType(
-                                            Name=(
-                                                recipient.company_name
-                                                or recipient.person_name
-                                            ),
-                                            AttentionName=(
-                                                recipient.person_name
-                                                or recipient.company_name
-                                            ),
+                                        SoldTo=ups.ProducerType(
+                                            Option=None,
+                                            CompanyName=recipient.company_name,
+                                            Name=recipient.contact,
+                                            AttentionName=recipient.contact,
                                             TaxIdentificationNumber=recipient.tax_id,
-                                            Phone=ups.ShipPhoneType(
+                                            Phone=ups.ShipToPhoneType(
                                                 Number=recipient.phone_number
                                                 or "000-000-0000"
                                             ),
-                                            Option=None,
-                                            Address=ups.AddressType(
-                                                AddressLine=recipient.address_lines,
+                                            Address=ups.AlternateDeliveryAddressAddressType(
+                                                AddressLine=recipient.address_line,
                                                 City=recipient.city,
                                                 StateProvinceCode=recipient.state_code,
                                                 PostalCode=lib.text(
                                                     (
                                                         recipient.postal_code or ""
                                                     ).replace("-", "")
                                                 ),
                                                 CountryCode=recipient.country_code,
+                                                ResidentialAddressIndicator=(
+                                                    "Y"
+                                                    if recipient.is_residential
+                                                    else None
+                                                ),
+                                                Town=None,
                                             ),
                                             EMailAddress=recipient.email,
                                         ),
                                     )
                                     if not options.paperless_trade.state
                                     else None
                                 ),
                                 Product=[
                                     ups.ProductType(
-                                        Description=[
-                                            lib.text(
-                                                item.title or item.description,
-                                                max=35,
-                                            )
-                                        ],
+                                        Description=lib.text(
+                                            item.title or item.description,
+                                            max=35,
+                                        ),
                                         Unit=ups.UnitType(
                                             Number=str(item.quantity),
-                                            UnitOfMeasurement=ups.UnitOfMeasurementType(
-                                                Code="PCS"
+                                            UnitOfMeasurement=ups.LabelImageFormatType(
+                                                Code="PCS",
+                                                Description="PCS",
                                             ),
-                                            Value=item.value_amount,
+                                            Value=str(item.value_amount),
                                         ),
                                         CommodityCode=item.hs_code,
                                         PartNumber=item.sku,
                                         OriginCountryCode=item.origin_country,
                                         JointProductionIndicator=None,
                                         NetCostCode=None,
                                         NetCostDateRange=None,
                                         PreferenceCriteria=None,
                                         ProducerInfo=None,
                                         MarksAndNumbers=None,
-                                        NumberOfPackagesPerCommodity=1,
-                                        ProductWeight=ups.ProductWeightType(
-                                            UnitOfMeasurement=ups.UnitOfMeasurementType(
+                                        NumberOfPackagesPerCommodity="1",
+                                        ProductWeight=ups.WeightType(
+                                            UnitOfMeasurement=ups.LabelImageFormatType(
                                                 Code=provider_units.WeightUnit.map(
                                                     weight_unit.name
                                                 ).value,
+                                                Description="weight unit",
+                                            ),
+                                            Weight=str(
+                                                units.Weight(
+                                                    item.weight, weight_unit.name
+                                                )[weight_unit.name]
                                             ),
-                                            Weight=units.Weight(
-                                                item.weight, weight_unit.name
-                                            )[weight_unit.name],
                                         ),
                                         VehicleID=None,
                                         ScheduleB=None,
                                         ExportType="F",
                                         SEDTotalValue=None,
                                         ExcludeFromForm=None,
-                                        ProductCurrencyCode=None,
                                         PackingListInfo=None,
                                         EEIInformation=None,
                                     )
                                     for idx, item in enumerate(customs.commodities)
                                 ],
                                 InvoiceNumber=customs.invoice,
                                 InvoiceDate=lib.fdatetime(
@@ -464,16 +512,16 @@
                                     customs.content_type
                                 ).value,
                                 Comments=None,
                                 DeclarationStatement="I hereby certify that the information on this invoice is true and correct and the contents and value of this shipment is as stated above.",
                                 Discount=None,
                                 FreightCharges=None,
                                 InsuranceCharges=(
-                                    ups.IFChargesType(
-                                        MonetaryValue=options.insurance.state
+                                    ups.DiscountType(
+                                        MonetaryValue=options.insurance.state,
                                     )
                                     if options.insurance.state is not None
                                     else None
                                 ),
                                 OtherCharges=None,
                                 CurrencyCode=(
                                     customs.duty.currency or options.currency.state
@@ -488,150 +536,104 @@
                                 PointOfOriginType=None,
                                 ModeOfTransport=None,
                                 PortOfExport=None,
                                 PortOfUnloading=None,
                                 PartiesToTransaction=None,
                                 RoutedExportTransactionIndicator=None,
                                 ContainerizedIndicator=None,
-                                License=None,
-                                ECCNNumber=None,
                                 OverridePaperlessIndicator=None,
                                 ShipperMemo=None,
-                                MultiCurrencyInvoiceLineTotal=None,
                                 HazardousMaterialsIndicator=None,
                             )
                             if payload.customs
                             else None
                         ),
-                        DeliveryConfirmation=(
-                            ups.DeliveryConfirmationType(
-                                DCISType=options.ups_delivery_confirmation.state or "01"
-                            )
-                            if options.ups_delivery_confirmation.state
-                            else None
-                        ),
-                        ReturnOfDocumentIndicator=(
-                            ""
-                            if options.ups_return_of_document_indicator.state
-                            else None
-                        ),
-                        ImportControlIndicator=(
-                            "" if options.ups_import_control_indicator.state else None
-                        ),
+                        DeliveryConfirmation=None,
+                        ReturnOfDocumentIndicator=None,
+                        ImportControlIndicator=None,
                         LabelMethod=None,
-                        CommercialInvoiceRemovalIndicator=(
-                            ""
-                            if options.ups_commercial_invoice_removal_indicator.state
-                            else None
-                        ),
-                        UPScarbonneutralIndicator=(
-                            "" if options.ups_carbonneutral_indicator.state else None
-                        ),
-                        PreAlertNotification=None,
+                        CommercialInvoiceRemovalIndicator=None,
+                        UPScarbonneutralIndicator=None,
                         ExchangeForwardIndicator=None,
-                        HoldForPickupIndicator=(
-                            "" if options.ups_hold_for_pickup_indicator.state else None
-                        ),
-                        DropoffAtUPSFacilityIndicator=(
-                            ""
-                            if options.ups_drop_off_at_ups_facility_indicator.state
-                            else None
-                        ),
-                        LiftGateForPickUpIndicator=(
-                            ""
-                            if options.ups_lift_gate_at_pickup_indicator.state
-                            else None
-                        ),
-                        LiftGateForDeliveryIndicator=(
-                            ""
-                            if options.ups_lift_gate_at_delivery_indicator.state
-                            else None
-                        ),
-                        SDLShipmentIndicator=(
-                            "" if options.ups_sdl_shipment_indicator.state else None
-                        ),
-                        EPRAReleaseCode=(
-                            "" if options.ups_epra_indicator.state else None
-                        ),
+                        HoldForPickupIndicator=None,
+                        DropoffAtUPSFacilityIndicator=None,
+                        LiftGateForPickupIndicator=None,
+                        LiftGateForDeliveryIndicator=None,
+                        SDLShipmentIndicator=None,
+                        EPRAReleaseCode=None,
                         RestrictedArticles=None,
                         InsideDelivery=None,
                         ItemDisposal=None,
-                    ),
-                    Package=[
-                        ups.PackageType(
-                            Description=package.parcel.description,
-                            Packaging=ups.PackagingType(
-                                Code=(
-                                    mps_packaging
-                                    or provider_units.PackagingType.map(
-                                        package.packaging_type
-                                    ).value
-                                    or provider_units.PackagingType.ups_customer_supplied_package.value
-                                ),
-                            ),
-                            Dimensions=ups.DimensionsType(
-                                UnitOfMeasurement=ups.ShipUnitOfMeasurementType(
-                                    Code=dim_unit.value,
-                                ),
-                                Length=package.length.value,
-                                Width=package.width.value,
-                                Height=package.height.value,
+                    )
+                ),
+                ShipmentValueThresholdCode=None,
+                MasterCartonID=None,
+                MasterCartonIndicator=None,
+                BarCodeImageIndicator=None,
+                ShipmentDate=None,
+                Package=[
+                    ups.PackageType(
+                        Packaging=ups.LabelImageFormatType(
+                            Code=(
+                                mps_packaging
+                                or provider_units.PackagingType.map(
+                                    package.packaging_type
+                                ).value
+                                or provider_units.PackagingType.ups_customer_supplied_package.value
                             ),
-                            PackageWeight=ups.PackageWeightType(
-                                UnitOfMeasurement=ups.ShipUnitOfMeasurementType(
-                                    Code=provider_units.WeightUnit[
-                                        weight_unit.name
-                                    ].value,
-                                ),
-                                Weight=package.weight.value,
+                            Description="Packaging Type",
+                        ),
+                        Dimensions=(
+                            ups.DimensionsType(
+                                UnitOfMeasurement=ups.LabelImageFormatType(
+                                    Code=package.dimension_unit.value,
+                                    Description="Dimension",
+                                ),
+                                Length=str(package.length.value),
+                                Width=str(package.width.value),
+                                Height=str(package.height.value),
+                            )
+                            if any([package.length, package.width, package.height])
+                            else None
+                        ),
+                        DimWeight=None,
+                        PackageWeight=ups.WeightType(
+                            UnitOfMeasurement=ups.LabelImageFormatType(
+                                Code=provider_units.WeightUnit[
+                                    packages.weight_unit
+                                ].value,
+                                Description="Weight",
                             ),
-                        )
-                        for package in packages
-                    ],
+                            Weight=str(packages.weight.value),
+                        ),
+                        Commodity=None,
+                        PackageServiceOptions=None,
+                        UPSPremier=None,
+                    )
+                    for package in packages
+                ],
+            ),
+            LabelSpecification=ups.LabelSpecificationType(
+                LabelImageFormat=ups.LabelImageFormatType(
+                    Code="ZPL" if enforce_zpl else label_format,
+                    Description="lable format",
                 ),
-                LabelSpecification=ups.LabelSpecificationType(
-                    LabelImageFormat=ups.LabelImageFormatType(
-                        Code="ZPL" if enforce_zpl else label_format
-                    ),
-                    HTTPUserAgent=None,
-                    LabelStockSize=ups.LabelStockSizeType(
-                        Height=label_height,
-                        Width=label_width,
-                    ),
-                    Instruction=None,
-                    CharacterSet=None,
+                HTTPUserAgent=None,
+                LabelStockSize=ups.LabelStockSizeType(
+                    Height=str(label_height),
+                    Width=str(label_width),
                 ),
-                ReceiptSpecification=None,
             ),
-        ),
+            ReceiptSpecification=None,
+        )
     )
 
     return lib.Serializable(
         request,
-        lambda envelope: lib.envelope_serializer(
-            envelope,
-            namespace=(
-                'xmlns:auth="http://www.ups.com/schema/xpci/1.0/auth"'
-                ' xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"'
-                ' xmlns:xsd="http://www.w3.org/2001/XMLSchema"'
-                ' xmlns:upss="http://www.ups.com/XMLSchema/XOLTWS/UPSS/v1.0"'
-                ' xmlns:common="http://www.ups.com/XMLSchema/XOLTWS/Common/v1.0"'
-                ' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'
-                ' xsi:schemaLocation="http://www.ups.com/XMLSchema/XOLTWS/Ship/v1.0"'
-                ' xmlns:ship="http://www.ups.com/XMLSchema/XOLTWS/Ship/v1.0"'
-                ' xmlns:ifs="http://www.ups.com/XMLSchema/XOLTWS/IF/v1.0"'
-            ),
-            prefixes=dict(
-                Request="common",
-                Envelope="soapenv",
-                UPSSecurity="upss",
-                ShipmentRequest="ship",
-                InternationalForms_children="ifs",
-            ),
-        ),
+        lib.to_dict,
         dict(
             label=dict(
                 height=label_height,
                 width=label_width,
                 type=label_format,
             ),
         ),
```

## Comparing `karrio.ups-2023.4.6.dist-info/METADATA` & `karrio.ups-2023.5.dist-info/METADATA`

 * *Files 6% similar despite different names*

```diff
@@ -1,21 +1,20 @@
 Metadata-Version: 2.1
 Name: karrio.ups
-Version: 2023.4.6
+Version: 2023.5
 Summary: Karrio - UPS Shipping extension
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
 Classifier: Operating System :: OS Independent
 Classifier: Programming Language :: Python :: 3
 Description-Content-Type: text/markdown
-Requires-Dist: carrier.ups
 Requires-Dist: karrio
 
 # karrio.ups
 
 This package is a UPS extension of the [karrio](https://pypi.org/project/karrio) multi carrier shipping SDK.
 
 ## Requirements
```

## Comparing `karrio.ups-2023.4.6.dist-info/RECORD` & `karrio.ups-2023.5.dist-info/RECORD`

 * *Files 23% similar despite different names*

```diff
@@ -1,24 +1,28 @@
 karrio/mappers/ups/__init__.py,sha256=ZteJt7U1jX4n6ww0siNnQLgdcwyLFa2SN2l76MGUkss,574
-karrio/mappers/ups/mapper.py,sha256=RdErHLGUGNYRqFc88z5EgNcqfExXiS50sFutHNb0p4Q,3992
-karrio/mappers/ups/proxy.py,sha256=tO3xLoTJAWUDmmCVBu4D1ybxt-785fcCR62PUJ_0vFs,4701
-karrio/mappers/ups/settings.py,sha256=AMtkmHE_jOQt_7YsPmvooI0RG5SY37P7JWQZeLa74jU,512
-karrio/providers/ups/__init__.py,sha256=iEPJP_IDlokgr2Iblzpqs_p9fVN24fbzZ3zaSpYxkAM,819
-karrio/providers/ups/address.py,sha256=p33FMkMqyRT3a5Qeh0b8MqreOqNu5A_zQS_6wSsJ_D8,1843
-karrio/providers/ups/document.py,sha256=l7tu0hr4DpcOArApAS8OS2Y-hVs75nEHqhlR_TpwHaI,3380
-karrio/providers/ups/error.py,sha256=kyZJF875o9LSvzDd2iGDZJVRfqYg-AANLfsm1_QdY4w,2554
-karrio/providers/ups/rate.py,sha256=R1XNygzz4gH8kw204UL4VBQwhvUqFiHfCrYGhAa0djI,15747
-karrio/providers/ups/tracking.py,sha256=HhWHT_JNUzjEz-eQLfSWssRHasNkzlAFqVvRPy56itc,4309
-karrio/providers/ups/units.py,sha256=bgkkk7gQUiDA-rr2GdN83awCZfKJ25AeTUw4r_MZmlc,16310
-karrio/providers/ups/utils.py,sha256=wBRr2eh_wfSmvGff8j-shahetdfYbx-1fLaSSh9Y3E8,2709
-karrio/providers/ups/pickup/__init__.py,sha256=StpeV_vjUTo7Cn5RhZ_FHiEiY8xhf6LcFU0ppAaKrzY,309
-karrio/providers/ups/pickup/cancel.py,sha256=OuECyxmV3JBPcJt6yfvFkSMWUHTIPD8oeUUpB2XwUFM,1716
-karrio/providers/ups/pickup/create.py,sha256=iG1bOYbtVH8SQz6JG_t5xJStkLshxqpl3uhkXOXnn_0,5653
-karrio/providers/ups/pickup/rate.py,sha256=YF-bm3EzzJMyfTq3i2dyAb9PuuXK-yyjdW8brqGT0Ow,2285
-karrio/providers/ups/pickup/update.py,sha256=kSYEOw5k42cqGKqC_oQPTAOJzoGJ6AajYFuz6UiVR84,1918
+karrio/mappers/ups/mapper.py,sha256=7oyEmdU4ynk2RbbZ5IhmgnxHxLu7Na1up7IEmPHu0y8,2318
+karrio/mappers/ups/proxy.py,sha256=5HU3EjT7YurTrsRzWrUKKFgoHgRRmXxIm7I5BT2kxVU,3091
+karrio/mappers/ups/settings.py,sha256=nfAXfxsLnaPh1XJUM08Fcsg0F6Kma6WVA-iVHrsX8MU,562
+karrio/providers/ups/__init__.py,sha256=6BJ2DAlfJ4clYTKDpernxkHeL0igcize3Vs9gV1PhGo,490
+karrio/providers/ups/document.py,sha256=zh9UTDv2nuBcyt20kg1TjxQLXHPOqzoP7YFAJPoBg-g,2785
+karrio/providers/ups/error.py,sha256=Utvhh1jOYjVxTVcbPqEXw5xGCg2rHM7CWSkfWTd-py0,2120
+karrio/providers/ups/rate.py,sha256=h54Q13GnmH3RqS8XxwWPltrmftTJ9ohXuMHsBA50FLI,15850
+karrio/providers/ups/tracking.py,sha256=C7kY4__cHLc9y1SCFpKdpaJPCOuGbDmuzX0ugXdzWs8,4299
+karrio/providers/ups/units.py,sha256=JZU_WrWzLNs93B12kLfAOEteO0BhlIFjmUJILIP_GM0,16410
+karrio/providers/ups/utils.py,sha256=Y6ib1PMbQ3ZYD5UBoOccKfqyO_R1ISySGGqRP38xZKs,3311
 karrio/providers/ups/shipment/__init__.py,sha256=JqRkKBAx-8wJ3_RSvWD76ink2bX2N3LRi132oNB76xk,222
-karrio/providers/ups/shipment/cancel.py,sha256=3hmkDCHRRXvSSo13jVHKnh6fx2LBNBzsyjcUbo5qJcY,2659
-karrio/providers/ups/shipment/create.py,sha256=FCC7EuVB8FELKNQXBly-YPZWmXyd3FGERniXfNybfFs,30434
-karrio.ups-2023.4.6.dist-info/METADATA,sha256=z2mI03iN8k60xLKWIaUhW3o8mH1QWqIjrDGLL_4AbV8,951
-karrio.ups-2023.4.6.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.ups-2023.4.6.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio.ups-2023.4.6.dist-info/RECORD,,
+karrio/providers/ups/shipment/cancel.py,sha256=muZe1gc4vYsEGXsoiCwleWSoKNudevCrP5Bg0OUadx4,1347
+karrio/providers/ups/shipment/create.py,sha256=nkhVafCXvacB-gu75ZN7F_rIGcGDczAM3aXPsI5l2VQ,30149
+ups_lib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
+ups_lib/document_upload_request.py,sha256=uYa-dI_RDTyxEnfpgxdqrbp8XG4UGM4_BWr5km9syJw,935
+ups_lib/document_upload_response.py,sha256=8nR9GGQpF8jKIRxtwgpeUFs4ID1GucNjeS-YGCWlQ-w,1029
+ups_lib/error.py,sha256=KAqnu0uzgL1sgpxSUdQTohHH8RY34hPAFa_oE2z875A,408
+ups_lib/rating_request.py,sha256=NoVg8MJdK18b4QXFsZrEeuqjXEsJeC81IV0GGIwxPmE,13775
+ups_lib/rating_response.py,sha256=jGqX28S4N0jlx5840M1iXS85FxnIHnBBO-BEM4tAIVA,8066
+ups_lib/shipping_cancel_response.py,sha256=89eisRYb5w3zzLjzaMwl8ke-8p_NyA18MboXIU7fxwM,1281
+ups_lib/shipping_request.py,sha256=72juDA-owiJPk0p5Klq4T3E17_CydmbD4I_WRxwoMtY,27927
+ups_lib/shipping_response.py,sha256=FArGPHkF0B3KDsfs9j4jeDkpO8SgBR9o_npJmXQO-m4,7162
+ups_lib/tracking_response.py,sha256=t79WNYCjIWVXvNibYC41v-u6L1Wr4ZMHMK6wmHKQj9I,4549
+karrio.ups-2023.5.dist-info/METADATA,sha256=G1w9eqoLcnNx_bDNl0ji_9rlQh7FYg8M8WqWJZhvAno,922
+karrio.ups-2023.5.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.ups-2023.5.dist-info/top_level.txt,sha256=tBK4zcZ6YGkac13HZRfoq7qlcLNsmQL-9LRtZX1_-2I,23
+karrio.ups-2023.5.dist-info/RECORD,,
```

