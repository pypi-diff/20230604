# Comparing `tmp/odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4-py3-none-any.whl.zip` & `tmp/odoo14_addon_account_reconciliation_widget-14.0.2.0.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,50 +1,50 @@
-Zip file size: 160674 bytes, number of entries: 48
--rw-r--r--  2.0 unx     3304 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/README.rst
--rw-r--r--  2.0 unx       43 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/__init__.py
--rw-r--r--  2.0 unx      828 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/__manifest__.py
--rw-r--r--  2.0 unx    26049 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/account_reconciliation_widget.pot
--rw-r--r--  2.0 unx    26122 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/ca_ES.po
--rw-r--r--  2.0 unx    28184 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/es.po
--rw-r--r--  2.0 unx    28221 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/es_AR.po
--rw-r--r--  2.0 unx    27980 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/fr.po
--rw-r--r--  2.0 unx    28008 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/fr_FR.po
--rw-r--r--  2.0 unx    28011 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/it.po
--rw-r--r--  2.0 unx    27829 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/nl.po
--rw-r--r--  2.0 unx    27984 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/pt.po
--rw-r--r--  2.0 unx    28055 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/pt_BR.po
--rw-r--r--  2.0 unx    29345 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/sl.po
--rw-r--r--  2.0 unx    27765 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/sl_SI.po
--rw-r--r--  2.0 unx    27389 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/sv.po
--rw-r--r--  2.0 unx    25660 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/i18n/zh_CN.po
--rw-r--r--  2.0 unx      156 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/models/__init__.py
--rw-r--r--  2.0 unx    15182 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/models/account_bank_statement.py
--rw-r--r--  2.0 unx     1151 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/models/account_journal.py
--rw-r--r--  2.0 unx     5503 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/models/account_move.py
--rw-r--r--  2.0 unx    47852 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/models/reconciliation_widget.py
--rw-r--r--  2.0 unx      504 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/models/res_company.py
--rw-r--r--  2.0 unx       29 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      230 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      350 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/readme/USAGE.rst
--rw-r--r--  2.0 unx      246 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/description/icon.png
--rw-r--r--  2.0 unx    12537 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/description/index.html
--rw-r--r--  2.0 unx    21624 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_action.js
--rw-r--r--  2.0 unx    97608 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_model.js
--rw-r--r--  2.0 unx    47904 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_renderer.js
--rw-r--r--  2.0 unx     9338 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/src/scss/account_reconciliation.scss
--rw-r--r--  2.0 unx    28487 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/src/xml/account_reconciliation.xml
--rw-r--r--  2.0 unx   204716 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/static/tests/account_reconciliation_tests.js
--rw-r--r--  2.0 unx       41 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/tests/__init__.py
--rw-r--r--  2.0 unx     8171 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/tests/test_reconciliation_widget.py
--rw-r--r--  2.0 unx     1110 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/views/account_bank_statement_view.xml
--rw-r--r--  2.0 unx     2015 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/views/account_journal_dashboard_view.xml
--rw-r--r--  2.0 unx     1231 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/views/account_view.xml
--rw-r--r--  2.0 unx     1354 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/views/assets.xml
--rw-r--r--  2.0 unx       34 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/wizards/__init__.py
--rw-r--r--  2.0 unx      443 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/wizards/res_config_settings.py
--rw-r--r--  2.0 unx     1244 b- defN 23-Mar-31 03:08 odoo/addons/account_reconciliation_widget/wizards/res_config_settings_views.xml
--rw-r--r--  2.0 unx     3883 b- defN 23-Mar-31 03:09 odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-31 03:09 odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-31 03:09 odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     5898 b- defN 23-Mar-31 03:09 odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/RECORD
-48 files, 919170 bytes uncompressed, 150578 bytes compressed:  83.6%
+Zip file size: 160894 bytes, number of entries: 48
+-rw-r--r--  2.0 unx     3304 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/README.rst
+-rw-r--r--  2.0 unx       43 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/__init__.py
+-rw-r--r--  2.0 unx      828 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/__manifest__.py
+-rw-r--r--  2.0 unx    26049 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/account_reconciliation_widget.pot
+-rw-r--r--  2.0 unx    26122 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/ca_ES.po
+-rw-r--r--  2.0 unx    28184 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/es.po
+-rw-r--r--  2.0 unx    28221 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/es_AR.po
+-rw-r--r--  2.0 unx    27980 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/fr.po
+-rw-r--r--  2.0 unx    28008 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/fr_FR.po
+-rw-r--r--  2.0 unx    28011 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/it.po
+-rw-r--r--  2.0 unx    27829 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/nl.po
+-rw-r--r--  2.0 unx    27984 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/pt.po
+-rw-r--r--  2.0 unx    28055 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/pt_BR.po
+-rw-r--r--  2.0 unx    29345 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/sl.po
+-rw-r--r--  2.0 unx    27765 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/sl_SI.po
+-rw-r--r--  2.0 unx    27389 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/sv.po
+-rw-r--r--  2.0 unx    25660 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/i18n/zh_CN.po
+-rw-r--r--  2.0 unx      156 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/models/__init__.py
+-rw-r--r--  2.0 unx    15495 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/models/account_bank_statement.py
+-rw-r--r--  2.0 unx     1151 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/models/account_journal.py
+-rw-r--r--  2.0 unx     5503 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/models/account_move.py
+-rw-r--r--  2.0 unx    47929 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/models/reconciliation_widget.py
+-rw-r--r--  2.0 unx      504 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/models/res_company.py
+-rw-r--r--  2.0 unx       29 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      230 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      350 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/readme/USAGE.rst
+-rw-r--r--  2.0 unx      246 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/description/icon.png
+-rw-r--r--  2.0 unx    12537 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/description/index.html
+-rw-r--r--  2.0 unx    21624 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_action.js
+-rw-r--r--  2.0 unx    97588 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_model.js
+-rw-r--r--  2.0 unx    47904 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_renderer.js
+-rw-r--r--  2.0 unx     9338 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/src/scss/account_reconciliation.scss
+-rw-r--r--  2.0 unx    28487 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/src/xml/account_reconciliation.xml
+-rw-r--r--  2.0 unx   204716 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/static/tests/account_reconciliation_tests.js
+-rw-r--r--  2.0 unx       41 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/tests/__init__.py
+-rw-r--r--  2.0 unx     8171 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/tests/test_reconciliation_widget.py
+-rw-r--r--  2.0 unx     1110 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/views/account_bank_statement_view.xml
+-rw-r--r--  2.0 unx     2015 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/views/account_journal_dashboard_view.xml
+-rw-r--r--  2.0 unx     1231 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/views/account_view.xml
+-rw-r--r--  2.0 unx     1354 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/views/assets.xml
+-rw-r--r--  2.0 unx       34 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/wizards/__init__.py
+-rw-r--r--  2.0 unx      443 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/wizards/res_config_settings.py
+-rw-r--r--  2.0 unx     1244 b- defN 23-Jun-04 11:24 odoo/addons/account_reconciliation_widget/wizards/res_config_settings_views.xml
+-rw-r--r--  2.0 unx     3878 b- defN 23-Jun-04 11:25 odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-04 11:25 odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-04 11:25 odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     5878 b- defN 23-Jun-04 11:25 odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/RECORD
+48 files, 919515 bytes uncompressed, 150838 bytes compressed:  83.6%
```

## zipnote {}

```diff
@@ -126,20 +126,20 @@
 
 Filename: odoo/addons/account_reconciliation_widget/wizards/res_config_settings.py
 Comment: 
 
 Filename: odoo/addons/account_reconciliation_widget/wizards/res_config_settings_views.xml
 Comment: 
 
-Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/METADATA
+Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/WHEEL
+Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/top_level.txt
+Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/RECORD
+Filename: odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/account_reconciliation_widget/__manifest__.py

```diff
@@ -1,13 +1,13 @@
 # Copyright 2020 Ozono Multimedia - Iván Antón
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
 
 {
     "name": "account_reconciliation_widget",
-    "version": "14.0.2.0.2",
+    "version": "14.0.2.0.4",
     "category": "Accounting",
     "license": "AGPL-3",
     "summary": "Account reconciliation widget",
     "author": "Odoo, Ozono Multimedia, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/account-reconcile",
     "depends": ["account"],
     "data": [
```

## odoo/addons/account_reconciliation_widget/models/account_bank_statement.py

```diff
@@ -94,18 +94,14 @@
         receivable_account_type = self.env.ref("account.data_account_type_receivable")
         suspense_moves_mode = self._context.get("suspense_moves_mode")
         counterpart_aml_dicts = counterpart_aml_dicts or []
         payment_aml_rec = payment_aml_rec or self.env["account.move.line"]
         new_aml_dicts = new_aml_dicts or []
 
         aml_obj = self.env["account.move.line"]
-
-        company_currency = self.journal_id.company_id.currency_id
-        statement_currency = self.journal_id.currency_id or company_currency
-
         counterpart_moves = self.env["account.move"]
 
         # Check and prepare received data
         if any(rec.statement_id for rec in payment_aml_rec):
             raise UserError(_("A selected move line was already reconciled."))
         for aml_dict in counterpart_aml_dicts:
             if aml_dict["move_line"].reconciled and not suspense_moves_mode:
@@ -126,63 +122,30 @@
                 .user_type_id
             )
             if (
                 user_type_id in [payable_account_type, receivable_account_type]
                 and user_type_id not in account_types
             ):
                 account_types |= user_type_id
-        # FIXME: review
-        # if suspense_moves_mode:
-        #     if any(not line.journal_entry_ids for line in self):
-        #         raise UserError(
-        #             _(
-        #                 "Some selected statement line were not already "
-        #                 "reconciled with an account move."
-        #             )
-        #         )
-        # else:
-        #     if any(line.journal_entry_ids for line in self):
-        #         raise UserError(
-        #             _(
-        #                 "A selected statement line was already reconciled with "
-        #                 "an account move."
-        #             )
-        #         )
-
-        # Fully reconciled moves are just linked to the bank statement
-        total = self.amount
-        currency = self.foreign_currency_id or statement_currency
+        # Fully reconciled moves are just linked to the bank statement (blue lines),
+        # but the generated move on statement post should be removed and link the
+        # payment one for not having double entry
+        # TODO: To mix already done payments with new ones. Not sure if possible.
+        old_move = self.move_id.with_context(force_delete=True)
         for aml_rec in payment_aml_rec:
-            balance = (
-                aml_rec.amount_currency if aml_rec.currency_id else aml_rec.balance
-            )
-            aml_currency = aml_rec.currency_id or aml_rec.company_currency_id
-            total -= aml_currency._convert(
-                balance, currency, aml_rec.company_id, aml_rec.date
-            )
             aml_rec.with_context(check_move_validity=False).write(
                 {"statement_line_id": self.id}
             )
-            counterpart_moves = counterpart_moves | aml_rec.move_id
-            if (
-                aml_rec.journal_id.post_at == "bank_rec"
-                and aml_rec.payment_id
-                and aml_rec.move_id.state == "draft"
-            ):
-                # In case the journal is set to only post payments when
-                # performing bank reconciliation, we modify its date and post
-                # it.
-                aml_rec.move_id.date = self.date
-                aml_rec.payment_id.payment_date = self.date
-                aml_rec.move_id.action_post()
-                # We check the paid status of the invoices reconciled with this
-                # payment
-                for invoice in aml_rec.payment_id.reconciled_invoice_ids:
-                    self._check_invoice_state(invoice)
-
+            # This overwrites the value on each loop, so only one will be linked, but
+            # there's no better solution in this case
+            self.move_id = aml_rec.move_id.id
+            counterpart_moves |= aml_rec.move_id
+        if payment_aml_rec:
+            old_move.button_draft()
+            old_move.unlink()
         # Create move line(s). Either matching an existing journal entry
         # (eg. invoice), in which case we reconcile the existing and the new
         # move lines together, or being a write-off.
         if counterpart_aml_dicts or new_aml_dicts:
             counterpart_moves = self._create_counterpart_and_new_aml(
                 counterpart_moves, counterpart_aml_dicts, new_aml_dicts
             )
@@ -339,7 +302,43 @@
             ) / self.amount_currency
             aml_dict["amount_currency"] = prorata_factor * self.amount
             aml_dict["currency_id"] = statement_currency.id
 
     def _check_invoice_state(self, invoice):
         if invoice.is_invoice(include_receipts=True):
             invoice._compute_amount()
+
+    def button_undo_reconciliation(self):
+        """Handle the case when the reconciliation was done against a direct payment
+        with the bank account as counterpart. This may be the case for payments made
+        in previous versions of Odoo.
+        """
+        handled = self.env[self._name]
+        for record in self:
+            if record.move_id.payment_id:
+                # The reconciliation was done against a blue line (existing move)
+                # We remove the link on the current existing move, preserving it,
+                # and recreate a new move as if the statement line was new
+                record.move_id.line_ids.statement_line_id = False
+                statement = record.statement_id
+                journal = statement.journal_id
+                line_vals_list = record._prepare_move_line_default_vals()
+                new_move = self.env["account.move"].create(
+                    {
+                        "move_type": "entry",
+                        "statement_line_id": record.id,
+                        "ref": statement.name,
+                        "date": record.date,
+                        "journal_id": journal.id,
+                        "partner_id": record.partner_id.id,
+                        "currency_id": (
+                            journal.currency_id or journal.company_id.currency_id
+                        ).id,
+                        "line_ids": [(0, 0, line_vals) for line_vals in line_vals_list],
+                    }
+                )
+                new_move.action_post()
+                record.move_id = new_move.id
+                handled += record
+        return super(
+            AccountBankStatementLine, self - handled
+        ).button_undo_reconciliation()
```

## odoo/addons/account_reconciliation_widget/models/reconciliation_widget.py

```diff
@@ -794,14 +794,16 @@
                 ]
             )
         # default domain matching
         domain_matching = [
             "&",
             "&",
             "&",
+            "&",
+            ("id", "not in", st_line.move_id.line_ids.ids),
             ("reconciled", "=", False),
             ("account_id.reconcile", "=", True),
             ("balance", "!=", 0.0),
             ("parent_state", "=", "posted"),
         ]
 
         domain = expression.OR([domain_reconciliation, domain_matching])
```

## odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_model.js

### js-beautify {}

```diff
@@ -45,15 +45,15 @@
      *          invalid: boolean - through the invalid line (without account, label...)
      *          account_code: string
      *          date: string
      *          date_maturity: string
      *          label: string
      *          amount: number - real amount
      *          amount_str: string - formated amount
-     *          [is_liquidity_line]: boolean
+     *          [already_paid]: boolean
      *          [partner_id]: integer
      *          [partner_name]: string
      *          [account_code]: string
      *          [journal_id]: {
      *              id: integer
      *              display_name: string
      *          }
@@ -1012,21 +1012,21 @@
                 handlesPromises.push(
                     Promise.resolve(computeLinePromise).then(function() {
                         var values_dict = {
                             partner_id: line.st_line.partner_id,
                             ref: line.st_line.ref,
                             counterpart_aml_dicts: _.map(
                                 _.filter(props, function(prop) {
-                                    return !isNaN(prop.id) && !prop.is_liquidity_line;
+                                    return !isNaN(prop.id) && !prop.already_paid;
                                 }),
                                 self._formatToProcessReconciliation.bind(self, line)
                             ),
                             payment_aml_ids: _.pluck(
                                 _.filter(props, function(prop) {
-                                    return !isNaN(prop.id) && prop.is_liquidity_line;
+                                    return !isNaN(prop.id) && prop.already_paid;
                                 }),
                                 "id"
                             ),
                             new_aml_dicts: _.map(
                                 _.filter(props, function(prop) {
                                     return isNaN(prop.id) && prop.display;
                                 }),
@@ -1189,15 +1189,15 @@
                         })
                         .__tax_to_recompute
                     ) {
                         reconciliation_proposition.push(prop);
                     }
                     return;
                 }
-                if (!prop.is_liquidity_line && parseInt(prop.id)) {
+                if (!prop.already_paid && parseInt(prop.id)) {
                     prop.is_move_line = true;
                 }
                 reconciliation_proposition.push(prop);
 
                 if (
                     prop.tax_ids &&
                     prop.tax_ids.length &&
```

## Comparing `odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/METADATA` & `odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-account-reconciliation-widget
-Version: 14.0.2.0.3.dev4
+Version: 14.0.2.0.4
 Summary: Account reconciliation widget
 Home-page: https://github.com/OCA/account-reconcile
 Author: Odoo, Ozono Multimedia, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/RECORD` & `odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/account_reconciliation_widget/README.rst,sha256=A2My9fLFoqF1oJmtBjWAJNKanCd6nX25MKadnqWBvrw,3304
 odoo/addons/account_reconciliation_widget/__init__.py,sha256=0XNpxETgFdVxFDEw03O8oL3NtTSk3we-HEZW2sPKzIU,43
-odoo/addons/account_reconciliation_widget/__manifest__.py,sha256=dCzH-wJUgINYipI7axHB_LFbVyhNUDeCyXrKvPqMQsU,828
+odoo/addons/account_reconciliation_widget/__manifest__.py,sha256=M91KbCRDbXhF-1PC2qcGJuu2ukAnUcQG14NiAvv_HGg,828
 odoo/addons/account_reconciliation_widget/i18n/account_reconciliation_widget.pot,sha256=VXEln-drHRGzrAS3qhSfmtz2tEXdKus1ZoiST6R_9j0,26049
 odoo/addons/account_reconciliation_widget/i18n/ca_ES.po,sha256=YgpBNqNWBlKrWUPkDv9s1lWQnRVsdbU4xOUBdYQB_qU,26122
 odoo/addons/account_reconciliation_widget/i18n/es.po,sha256=9UbA8Sn-f2zqvpy7XBLOqzLw2RSmR63s-eolL3pEtPg,28184
 odoo/addons/account_reconciliation_widget/i18n/es_AR.po,sha256=9vbRvYsrmIXIo-BtP3DD9FGj9N4t2pCDzNliSNIX0m4,28221
 odoo/addons/account_reconciliation_widget/i18n/fr.po,sha256=26AJwuQebSvBHOI4ji1VRhSXiUWoDjAkAWPiq6dH9EM,27980
 odoo/addons/account_reconciliation_widget/i18n/fr_FR.po,sha256=UDXJxxiAq2fZfDhqihVRwRHVryj-yMOyWNR7O_bLzLY,28008
 odoo/addons/account_reconciliation_widget/i18n/it.po,sha256=40_6SrWVcWM1wq9K8dsk7y6rDboP5PGI6C25tGg8mUo,28011
@@ -12,37 +12,37 @@
 odoo/addons/account_reconciliation_widget/i18n/pt.po,sha256=tPQ2wBt7wFbOI7aE68SxMQT6KA0w7gccWCqCHR3YRwQ,27984
 odoo/addons/account_reconciliation_widget/i18n/pt_BR.po,sha256=AUZAvA4S5w_Ia58ddf2bwIMqH7dc3kHEFsYUUcgkfmc,28055
 odoo/addons/account_reconciliation_widget/i18n/sl.po,sha256=odH5kGf_syf-MxdcySCYoEpJyirqhdLLef94gPygZJU,29345
 odoo/addons/account_reconciliation_widget/i18n/sl_SI.po,sha256=O9sWUfZj6EkhzE1UpGRT6st73zCGDObd98jdfAZnEkI,27765
 odoo/addons/account_reconciliation_widget/i18n/sv.po,sha256=GmBeGt3BdCLHRoyDVhG0cSaIlVs1HXHMzsOteBCraIE,27389
 odoo/addons/account_reconciliation_widget/i18n/zh_CN.po,sha256=iUIYA7F4a_fbGQbamjwjUgdB2Dbhayn0Bn09l71rRcw,25660
 odoo/addons/account_reconciliation_widget/models/__init__.py,sha256=viDdHY5lRtUf9sulcsvtOJmoBZTZ0MljLzbsPz8X4og,156
-odoo/addons/account_reconciliation_widget/models/account_bank_statement.py,sha256=nbJg256pat_BUbAxsTiJywXIukeB9rPMawsbHZfPtW4,15182
+odoo/addons/account_reconciliation_widget/models/account_bank_statement.py,sha256=bxfrNxhkurm1ot2WeeDr-i7EIWLzt3tRQPTHjhEdyYc,15495
 odoo/addons/account_reconciliation_widget/models/account_journal.py,sha256=J-scPyyD2dQrJtXzHKg8XDtJa21HEuf_529WNIizA2k,1151
 odoo/addons/account_reconciliation_widget/models/account_move.py,sha256=9TvLU2cdyaMo_qkreItz6uQXFNMXywdouJ1eSe_dlyI,5503
-odoo/addons/account_reconciliation_widget/models/reconciliation_widget.py,sha256=rfxY4LgLAoKsnnV6HnLkdOYzX959oOGDwF5ilbvDGMU,47852
+odoo/addons/account_reconciliation_widget/models/reconciliation_widget.py,sha256=Z1-ktyT6dEVcBEI9GhGZ8JNMTt4bTOQ3y-zrhSMjYoQ,47929
 odoo/addons/account_reconciliation_widget/models/res_company.py,sha256=oW4Sq5s6GUfKnG7HbMNyNi4NSMSYizBp1Scqv9zpZAo,504
 odoo/addons/account_reconciliation_widget/readme/CONTRIBUTORS.rst,sha256=EV9_zzipdv43yPpGcOJVA6h9rQz535plpR0VWlDOfSk,29
 odoo/addons/account_reconciliation_widget/readme/DESCRIPTION.rst,sha256=IWSJkJd2x86Jjfixsuiw7gWQ386CRbjtDhHmWCT0d6c,230
 odoo/addons/account_reconciliation_widget/readme/USAGE.rst,sha256=ngd6sPbNFFEMI1f8T3pW499Md7AgFghvUy7kxGKWKu4,350
 odoo/addons/account_reconciliation_widget/security/ir.model.access.csv,sha256=Nt9MlUkI4GN7m8MSe_Dro50z9oM3sqSZW6zBNE-iPdg,246
 odoo/addons/account_reconciliation_widget/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/account_reconciliation_widget/static/description/index.html,sha256=VjpMo5UWrvlVxpjuAeN9OAqymGtLYxwEX4zfPnFsstU,12537
 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_action.js,sha256=215Ocb5nWAxtXY5_ybto_RDL0VHOChqSUJS4KgzqaFc,21624
-odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_model.js,sha256=3ss16iVc6HkCeQCRZZj_9USs9ApjT1wcuiTIvPGNvDg,97608
+odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_model.js,sha256=pDrGgyi2o4PApp1W2K64NEAZaeNPcFVlDUxRG61cYc8,97588
 odoo/addons/account_reconciliation_widget/static/src/js/reconciliation/reconciliation_renderer.js,sha256=BdfHscHSDdPt_If6QjVTTyAmvvW3nSTCzCCPFGayXIc,47904
 odoo/addons/account_reconciliation_widget/static/src/scss/account_reconciliation.scss,sha256=chpSk2QD7Xed3keV4cIi3PFeWdm_ZtL1IDij7EQVqpk,9338
 odoo/addons/account_reconciliation_widget/static/src/xml/account_reconciliation.xml,sha256=0Azc5NFzW2HnFTHfxSIaoulyHj7kUlDVCrOA_u6ZJkc,28487
 odoo/addons/account_reconciliation_widget/static/tests/account_reconciliation_tests.js,sha256=Ut0si6cckcF1utmG-cDVtmLMJ5YRQKsOn0IfGZ1diQQ,204716
 odoo/addons/account_reconciliation_widget/tests/__init__.py,sha256=qG-cDKUtmEoS4g3aRRYtRa1qII1JWmWOpzfYpbwxc40,41
 odoo/addons/account_reconciliation_widget/tests/test_reconciliation_widget.py,sha256=1nS2jZBXBXsWy8W6iXtCxaGMmnAl3gAP5-jq4pQ8MtY,8171
 odoo/addons/account_reconciliation_widget/views/account_bank_statement_view.xml,sha256=R3OaNFbgZfxdoNCuKdQuc5CpEU7McqNn4l05gsqghEU,1110
 odoo/addons/account_reconciliation_widget/views/account_journal_dashboard_view.xml,sha256=xmJI1Qe2GsCgz6ebxv148M-hzGPGSjfHql6tYhPvYBk,2015
 odoo/addons/account_reconciliation_widget/views/account_view.xml,sha256=w2Me5uESCepEgMnKEL4CreR6EsgfdfnkPMXOL0xdiEE,1231
 odoo/addons/account_reconciliation_widget/views/assets.xml,sha256=DWUVVHBZyaJoTLw29seCnNhS5xFpT2qgIkSDV9eg9co,1354
 odoo/addons/account_reconciliation_widget/wizards/__init__.py,sha256=zn8FjADxYHOSCCGGXqyQZL8kz_8gruN-Y3oSjlWHQ4I,34
 odoo/addons/account_reconciliation_widget/wizards/res_config_settings.py,sha256=g3Uzr9232YUNHZA92nxBE-FveiikHb8HSwZq3E3qB4M,443
 odoo/addons/account_reconciliation_widget/wizards/res_config_settings_views.xml,sha256=cLbdbG71py2x2JgQQd2VunOveJ1Gf2S6wQiAL4tR4Ss,1244
-odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/METADATA,sha256=Pod6Y0syiDmvWMzNOvYXO_PL5ilwZ3CWhDPjGsBBGWg,3883
-odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_account_reconciliation_widget-14.0.2.0.3.dev4.dist-info/RECORD,,
+odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/METADATA,sha256=4qsucCJQQgjyB1ynfpZW5JCgFPjMBvbVuRArrC5n-AM,3878
+odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_account_reconciliation_widget-14.0.2.0.4.dist-info/RECORD,,
```

